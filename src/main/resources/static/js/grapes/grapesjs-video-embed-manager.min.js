/*! grapesjs-video-embed-manager - 1.0.31 */
!function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports["grapesjs-video-embed-manager"]=t():e["grapesjs-video-embed-manager"]=t()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&'object'==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,'default',{enumerable:!0,value:e}),2&t&&'string'!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e['default']}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){e.exports=n(4)},function(e,t){function n(e,t,n,o,r,a,i){try{var d=e[a](i),l=d.value}catch(e){return void n(e)}d.done?t(l):Promise.resolve(l).then(o,r)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(r,a){var i=e.apply(t,o);function d(e){n(i,r,a,d,l,"next",e)}function l(e){n(i,r,a,d,l,"throw",e)}d(void 0)}))}},e.exports["default"]=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports["default"]=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",d=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,a=Object.create(r.prototype),i=new O(o||[]);return a._invoke=function(e,t,n){var o=u;return function(r,a){if(o===v)throw new Error("Generator is already running");if(o===f){if("throw"===r)throw a;return _()}for(n.method=r,n.arg=a;1;){var i=n.delegate;if(i){var d=E(i,n);if(d){if(d===g)continue;return d}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=s(e,t,n);if("normal"===l.type){if(o=n.done?f:p,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=f,n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",p="suspendedYield",v="executing",f="completed",g={};function m(){}function h(){}function b(){}var y={};l(y,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==n&&o.call(x,a)&&(y=x);var j=b.prototype=m.prototype=Object.create(y);function L(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var n;this._invoke=function(r,a){function i(){return new t((function(n,i){!function n(r,a,i,d){var l=s(e[r],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,d)}),(function(e){n("throw",e,i,d)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,d)}))}d(l.arg)}(r,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=s(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:_}}function _(){return{value:t,done:!0}}return h.prototype=b,l(j,"constructor",b),l(b,"constructor",h),h.displayName=l(b,d,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,d,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},L(k.prototype),l(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,o,r,a){void 0===a&&(a=Promise);var i=new k(c(t,n,o,r),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},L(j),l(j,d,"Generator"),l(j,a,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return d.type="throw",d.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],d=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:T(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),g}},e}(1?e.exports:void 0);try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},function(e,t){e.exports="\n#video-container > #video-list > li.video-container > figure > img {\n    width: 100%;\n}\n\n#upload-button:hover {\n    background-color: rgba(255,255,255,.2);\n}\n\n.filebox label {\n  display: inline-block;\n  padding: .5em .75em;\n  color: black;\n  font-size: inherit;\n  line-height: normal;\n  vertical-align: middle;\n  background-color: #fdfdfd;\n  cursor: pointer;\n  border: 1px solid #ebebeb;\n  border-bottom-color: #e2e2e2;\n  border-radius: .25em;\n}\n\n.filebox input[type=\"file\"] { \n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip:rect(0,0,0,0);\n  border: 0;\n}\n\n#video-container > #preloader {\n    width: 100%;\n}\n\n#video-modal > .gjs-mdl-dialog {\n    height: 85vh;\n    width: 75vw;\n    max-width: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content {\n    flex-grow: 1;\n    height: 0;\n    overflow: hidden;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div:first-child { height: 100% }\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container {\n    height: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container {\n    flex-grow: 1;\n    height: 0;\n    overflow-y: auto;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > .video-error {\n    text-align: center;\n    width: 100%;\n    border-bottom: 1px solid rgba(0,0,0,.2);\n    border-top: 1px solid rgba(0,0,0,.2);\n    background: #444;\n    margin: 0;\n    box-sizing: border-box;\n    position: absolute;\n    cursor: pointer;\n    overflow: hidden;\n    left: 0;\n    right: 0;\n    transition: height .3s ease-in-out, opacity .3s ease-in-out;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > .video-error > h2 {\n    padding: 1em;\n    margin: 0;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > .video-error:hover > h2 {\n    color: #d278c9;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > aside#video-tabs > .tablinks{\n    font-size: .9em;\n    border-top: 1px solid #ddd;\n    border-right: 1px solid #ddd;\n    opacity: .5;\n    transform: skew(20deg, 0deg);\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > aside#video-tabs > .tablinks > span{\n    display: inline-block;\n    padding: 0 .7em;\n    transform: skew(-20deg, 0deg);\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > aside#video-tabs > .tablinks.gjs-four-color{\n    border-top: 1px solid #ddd;\n    border-right: 1px solid #ddd;\n    opacity: 1;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: flex-start;\n    box-sizing: border-box;\n    padding: 1rem;\n    flex-grow: 1;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list,\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container{\n    width: 33.33%;\n    box-sizing:border-box;\n    padding: 1rem;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure{\n    margin: .5rem;\n    cursor: pointer;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure > figcaption{\n    text-align: center;\n    margin: .2em;\n    font-size: .9em;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure > img{\n    transition: transform .2s ease-in-out, box-shadow .2s ease-in-out;\n    font-size: 2vh;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure:hover > img{\n    transform: translate(0, -1em) scale(1.1);\n    box-shadow: 0 2.2em 1.9em -1.8em rgb(145 145 145);\n    -webkit-box-shadow: 0 2.2em 1.9em -1.8em rgb(145 145 145);\n    -moz-box-shadow: 0 2.2em 1.9em -1.8em rgb(145 145 145);\n}\n\n@media screen and (max-width: 61.875em){\n    #video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container{\n        width: 50%;\n    }\n}\n\n@media screen and (max-width: 37.5em){\n    #video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container{\n        width: 100%;\n    }\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul > li {\n    padding: 0 .5em;\n}\n\n/* Pagination styling */\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul > li > a,\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul > li > a > svg {\n    pointer-events: none\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer{\n    width: 100%;\n    z-index: 5;\n    border-top: 1px solid rgba(0,0,0,.2);\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate{\n    width: 100%;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar]{\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 1em;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li{\n    list-style: none;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li:not(.dots){\n    cursor: pointer;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li > a > svg{\n    width: 1.4em;\n    fill: #ddd;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li > .disabled-link > svg{\n    fill: #505050;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li > .disabled-link{\n    color: #505050;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Page],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-hidden=true]\n{\n    margin: 0 .3rem;\n    border-radius: 50em;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Page] > a,\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-hidden=true] > a\n{\n    text-decoration: none;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=First],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Previous],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Next],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Last]\n{\n    padding: 0 .2rem;\n}\n"},function(t,n,o){"use strict";o.r(n);var r=o(2),a=o.n(r),i=o(1),d=o.n(i),l=o(3),c=o.n(l),s=o(0),u=o.n(s),p={memberIdx:0,resources:[],youtubeData:null,vimeoData:null,localData:null,preloader:null,per_page:12,youtubeHeaders:{},vimeoHeaders:{},localHeaders:{},youtubeParams:{},vimeoParams:{},localParams:{},localLoadUrl:null,youtubeLoadUrl:null,vimeoLoadUrl:null,youtubeLoadCallback:null,localBeforeLoad:null,youtubeBeforeLoad:null,vimeoBeforeLoad:null,localBeforeInsert:null,youtubeBeforeInsert:null,vimeoBeforeInsert:null},v=void 0;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=o(5);n["default"]=function(t){var n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.DomComponents.getType('video'),l=i.view.prototype.events.dblclick&&'onDblClick'!==i.view.prototype.events.dblclick?i.view.prototype.events.dblclick:null,c=i.view.prototype.events.dblclick?i.view.prototype[l]:null;i.view.prototype.events.dblclick='onDblClick',i.view.prototype.onDblClick=function(){o=t.getSelected()||{},t.runCommand('open-videos'),c&&i.view.prototype[l](e)};var s,f,h,b,y,w,x,j,L,k,E,P,C,O,T=g(g({},p),r),_=1,A=10,S=5,M=3,D=0,H={d:"M13,21,7,12l6-9H9L3,12l6,9Z  M21,21l-6-9,6-9H17l-6,9,6,9Z"},N={d:"M11,3l6,9-6,9h4l6-9L15,3Z  M3,3l6,9L3,21H7l6-9L7,3Z"},I={d:"M 8 3 L 14 12 L 8 21 L 12 21 L 18 12 L 12 3 L 8 3 z"},z={d:"M 13 3 L 7 12 L 13 21 L 17 21 L 11 12 L 17 3 L 13 3 z"};t.on('component:add',(function(e){'video'==e.attributes.type&&(o=e,t.runCommand('open-videos'))})),t.Commands.add('open-videos',{run:function(e,t){return window.addEventListener('resize',$),B()},stop:function(e,t){window.removeEventListener('resize',$),h.remove()}}),t.Commands.add('insert-video',{run:function(e,t,n){return'youtube'==n.current?(o.set('provider','yt'),void o.set('videoId',n.id)):'vimeo'==n.current?(o.set('provider','vi'),void o.set('videoId',n.id)):'local'==n.current?(o.set('provider','so'),o.set('src',n.video.source),void o.set('poster',n.video.poster)):void 0}});var q=function(){n=t.Modal},B=function(){var e=d()(u.a.mark((function e(){return u.a.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return n||q(),e.next=3,n.open({title:'비디오(Vimeo) 업로드',content:'',attributes:{id:'video-modal'}}).onceOpen(R()).onceClose((function(){return t.stopCommand('open-videos')}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){J(),X(),n.setContent(h)},G=function(){T.preloader?((s=document.createElement('img')).src=T.preloader,s.setAttribute('alt','Loading...')):(s=document.createElement('h2')).innerHTML='Loading...',s.id="preloader",(h=document.createElement('div')).id='data-container',(f=document.createElement('div')).appendChild(document.createElement('h2')),f.className='video-error',f.onclick=le,f.style.display='none',f.style.height='0px';var e=document.createElement('style');e.innerHTML=m,h.appendChild(e),(y=document.createElement('aside')).id='video-tabs',h.appendChild(y);var t=document.createElement('div');t.id='upload-container',t.style.alignSelf='end';var o=document.createElement('div');o.className='filebox';var a=document.createElement('label');a.setAttribute('for','ex_file'),a.innerHTML='업로드';var i=document.createElement('input');i.id='ex_file',i.type='file',i.accept='video/mp4,video/mkv, video/x-m4v,video/*',i.onchange=function(e){if(''!==this.value){var t=new FormData,n=e.target.files[0];t.append("file",n),fetch("/today/vimeo/upload/"+r.memberIdx,{method:'POST',body:t}).then(function(){var t=d()(u.a.mark((function t(n){return u.a.wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:n.ok?(alert("업로드를 완료되었습니다."),e.target.value='',_=1,L=V(),Z()):(alert("업로드를 실패했습니다."),e.target.value='');case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return ae(500,"/today/vimeo/upload",e)}))}},o.appendChild(a),o.appendChild(i),t.appendChild(o),h.appendChild(t),(b=document.createElement('div')).id='video-container',(w=document.createElement('ul')).id='video-list',(x=document.createElement('footer')).id='video-paginate-footer',(j=document.createElement('nav')).id='video-paginate',x.appendChild(j),b.appendChild(f),b.appendChild(s),b.appendChild(w),h.appendChild(b),h.appendChild(x),n.setContent(h)},R=function(){if(G(),!T.resources||!T.resources.length)return ae(412,T.resources,'You did not provide any video resources when initiating the plugin. Please pass the parameters "youtube", "vimeo", and/or "local" to the plugin option "resources" to get started.');T.resources.length>1?U(T.resources):y.remove(),Y()},U=function(e){for(var t=0;t<e.length;t++){var n=document.createElement('button'),o=document.createElement('span');n.className='tablinks gjs-pn-btn gjs-two-color',n.setAttribute('data-index',t),t==D&&n.classList.add('gjs-four-color'),o.innerHTML=e[t][0].toUpperCase()+e[t].substring(1),n.onclick=Y,n.appendChild(o),y.appendChild(n)}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.currentTarget||e.target){var t=e.currentTarget||e.target;t.classList.add('gjs-four-color'),document.querySelector("button.tablinks[data-index=\"".concat(D,"\"]")).classList.remove('gjs-four-color'),D=t.dataset.index}return(C=T.resources[D])?T["".concat(C,"Data")]?(ie(),_=T["".concat(C,"Data")].page,F()):Z():ae(204,C,'You seem to be requesting a video resource that doesn\'t exit!')},Z=function(){var e=d()(u.a.mark((function e(){var t,n,o;return u.a.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return L=V(),t=T["".concat(C,"LoadUrl")],n=T["".concat(C,"LoadCallback")],de(),(o=T["".concat(C,"Params")]?T["".concat(C,"Params")]:{})['headers']=T["".concat(C,"Headers")]?T["".concat(C,"Headers")]:{},e.abrupt("return",t?fetch(t+L,o).then(function(){var e=d()(u.a.mark((function e(n){var o;return u.a.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(o=e.sent,!n.ok){e.next=9;break}return'youtube'==C&&(o.page=_),T["".concat(C,"BeforeLoad")]&&(o=T["".concat(C,"BeforeLoad")](o)),T["".concat(C,"Data")]=o,ie(),e.abrupt("return",F());case 9:return e.prev=9,e.abrupt("return",ae(n.status,t+L,o.response.data.error.message));case 13:throw e.prev=13,e.t0=e["catch"](9),new Error(n.statusText);case 16:case"end":return e.stop()}}),e,null,[[9,13]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return ae(500,t+L,e)})):n?W(n,L,o):ae(412,t+L+'; '+n,'There was no callback or load url provided for the '+C+' resource.'));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=d()(u.a.mark((function e(t,n,o){var r;return u.a.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return e.next=2,t(n,o);case 2:if(r=e.sent,"object"===a()(r)){e.next=5;break}return e.abrupt("return",ae(406,t,'Callback return was invalid'));case 5:if(!r.error){e.next=7;break}return e.abrupt("return",ae(f.status,t,f.message));case 7:return T["".concat(C,"Data")]=r,ie(),e.abrupt("return",F());case 10:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),J=function(){var e=T["".concat(C,"Data")],t=e.items||e.data||[];if(w.innerHTML='',!(t.length>0))return ae(411,e,'There are no videos to display.');for(var n=0;n<t.length;n++)K(t[n],n)},V=function(){var e='';return T.per_page&&(e+=(e.length?'&':'?')+'per_page='+T.per_page),T["".concat(C,"Data")]&&(T["".concat(C,"Data")].nextPageToken||T["".concat(C,"Data")].prevPageToken)?e+=(e.length?'&':'?')+'page_token='+(_>T["".concat(C,"Data")].page?T["".concat(C,"Data")].nextPageToken:T["".concat(C,"Data")].prevPageToken):T["".concat(C,"Data")]&&T["".concat(C,"Data")].page&&(e+=(e.length?'&':'?')+'page='+_),e},K=function(e,t){var n=e.snippet||e,o=re(e),r=n.thumbnails||n.pictures.sizes||[],i=r.default||(r.length?r.filter((function(e){return e.width>300&&e.width<900}))[0]:null)||r[0];if(!(o&&n&&r&&i))return ae(400,n);var d=i.url?'url':'link',l=new Image(i.width,i.height),c=document.createElement('img'),s=document.createElement("figure"),u=document.createElement("li");u.setAttribute('class','video-container video-empty video-'+t),u.setAttribute('data-loading','Loading...'),u.setAttribute('data-deleting','Deleting'),l.onload=function(){c.setAttribute('src',i[d]);var e={};for(var t in r){var o=r[t].width;e[o]="".concat(r[t][d]," ").concat(o,"w")}for(var l in e=Object.values(e).join(', '),c.setAttribute('srcset',e),n)n.hasOwnProperty(l)&&'snippet'!==l&&("object"==a()(n[l])?c.setAttribute('data-'+l,JSON.stringify(n[l])):c.setAttribute('data-'+l,n[l]));c.onload=function(){u.classList.remove("video-empty")},s.appendChild(c);var p=n.title||n.name;if(p){c.setAttribute("alt",p);var v=document.createElement("figcaption");v.innerText=p,s.appendChild(v)}},l.onerror=function(){u.remove(),ae(404,n)},l.src=i[d],c.setAttribute("title","Insert"),c.setAttribute("data-index",t),c.setAttribute("data-id",o),c.setAttribute("aria-role",'button'),c.onclick=Q,s.classList.add("insert-video"),u.appendChild(s),w.appendChild(u)},Q=function(e){var r,a,i,d,l;if(e.currentTarget?(r=e.currentTarget.dataset.index,a=e.currentTarget.dataset.id):e.target&&(r=e.target.dataset.index,a=e.target.dataset.id),d=(i=T["".concat(C,"Data")]).items?i.items[r]:i.data[r],l={component:o,current:C,video:d,id:a},T["".concat(C,"BeforeInsert")]&&(l=T["".concat(C,"BeforeInsert")](l)),!r||!a)return ae(409,l,'The following video doesn\'t seem to have an id. Cannot insert the video into body.');t.runCommand('insert-video',l),t.stopCommand('insert-video'),n.close()},X=function(){j.innerHTML='';var e=T["".concat(C,"Data")];if(P=e.pageInfo?e.pageInfo.totalResults:e.total,E=Math.ceil(P/T.per_page),oe(),E>1){var t=document.createElement('ul');t.setAttribute('role','menubar');var n=document.createElement('li');n.setAttribute('aria-hidden',!0),n.className='dots more-previous',n.innerHTML='...','youtube'!=C&&t.appendChild(ee('First Page',1,'page-nums chevrons first-chevrons',1,'video-paginate-icons',H.d)),t.appendChild(ee('Previous Page',_-1<=1?1:_-1,'page-nums chevrons first-chevrons',_-1<=1?1:_-1,'video-paginate-icons',z.d)),t.appendChild(n);var o=[];o.push(ee('Page '+_,_,'page-nums dynamic-pages',_));for(var r=k,a=0,i=1,d=1;r>0;){var l=_-i;l>0&&(o.splice(0,0,ee('Page '+l,l,'page-nums dynamic-pages',l)),i++,r--);var c=_+d;if(c<=E&&(o.push(ee('Page '+c,c,'page-nums dynamic-pages',c)),d++,r--),++a>k)break}o.map((function(e){return t.appendChild(e)})),(n=n.cloneNode(!0)).className='dots more-next',t.appendChild(n),t.appendChild(ee('Next Page',_+1>=E?E:_+1,'page-nums chevrons last-chevrons',_+1>=E?E:_+1,'video-paginate-icons',I.d)),'youtube'!=C&&t.appendChild(ee('Last Page',E,'page-nums chevrons last-chevrons',E,'video-paginate-icons',N.d)),j.appendChild(t)}else j.innerHTML="<p style=\"text-align: center\">Showing All Results</p>";te()},$=X.bind(v),ee=function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=document.createElement('li');i.onclick=ne,i.setAttribute('aria-label',e),i.setAttribute('data-page',t),i.className=n;var d=document.createElement('a');if(d.setAttribute('aria-posinset',o),r){var l=document.createElement('svg');l.setAttribute('height','100%'),l.setAttribute('width','1.3em'),l.setAttribute('xmlns','http://www.w3.org/2000/svg'),l.setAttribute('preserveaspectratio','xMidYMid meet'),l.setAttribute('viewBox','0 0 24 24'),l.className=r;var c=document.createElement('path');c.setAttribute('d',a),l.append(c),d.innerHTML=l.outerHTML}else d.innerHTML=t;return i.append(d),i},te=function(){x.querySelectorAll('.page-nums').forEach((function(e){return e.classList.remove('disabled-link')})),x.querySelectorAll('.dots').forEach((function(e){return e.style.display='none'})),x.querySelectorAll('.page-nums[aria-label="Page '+_+'"] a').forEach((function(e){return e.classList.add('disabled-link')})),1==_&&x.querySelectorAll('.first-chevrons a').forEach((function(e){return e.classList.add('disabled-link')})),_+k/2<E&&x.querySelectorAll('.dots.more-next').forEach((function(e){return e.style.display='block'})),_-k/2>1&&x.querySelectorAll('.dots.more-previous').forEach((function(e){return e.style.display='block'})),_==E&&x.querySelectorAll('.last-chevrons a').forEach((function(e){return e.classList.add('disabled-link')}))},ne=function(e){var t=parseInt(e.currentTarget.dataset.page);_!==t&&t&&(_=t,L=V(),Z())},oe=function(){k='youtube'==C?0:window.innerWidth>1200?A:window.innerWidth>600?S:M},re=function(e){return e.contentDetails?e.contentDetails.videoId:e.id?e.id:e.uri?e.uri.split('/').pop():null},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log(e,t,n),n){var o=f.querySelector('h2');o.innerHTML='<span style="display=inline-block; vertical-align:top; font-size: .8rem;">&#10006;</span> &nbsp;'+e+' : '+n,o.focus(),ce()}},ie=function(){s.style.display='none',w.style.display=null},de=function(){s.style.display='block',w.style.display='none'},le=function(){f.style.height='0px',f.style.opacity=0,O=setTimeout((function(){f.style.display='none'}),2e3)},ce=function(){clearTimeout(O),f.style.display='block';var e=f.querySelector('h2');f.style.height=e.offsetHeight+'px',f.style.opacity=1}}}])}));
//# sourceMappingURL=grapesjs-video-embed-manager.min.js.map