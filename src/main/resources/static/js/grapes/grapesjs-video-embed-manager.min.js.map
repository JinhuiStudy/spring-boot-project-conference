{"version":3,"sources":["webpack://grapesjs-video-embed-manager/webpack/universalModuleDefinition","webpack://grapesjs-video-embed-manager/webpack/bootstrap","webpack://grapesjs-video-embed-manager/./node_modules/@babel/runtime/regenerator/index.js","webpack://grapesjs-video-embed-manager/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://grapesjs-video-embed-manager/./node_modules/@babel/runtime/helpers/typeof.js","webpack://grapesjs-video-embed-manager/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://grapesjs-video-embed-manager/./node_modules/regenerator-runtime/runtime.js","webpack://grapesjs-video-embed-manager/./src/video_media_manager/css/styles.js","webpack://grapesjs-video-embed-manager/./src/video_media_manager/config/config.js","webpack://grapesjs-video-embed-manager/./src/index.js"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","self","args","arguments","apply","err","undefined","_typeof","obj","iterator","constructor","configurable","writable","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","TypeError","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","memberIdx","displayLoadElement","displayLayoutElement","resources","youtubeData","vimeoData","localData","preloader","per_page","youtubeHeaders","vimeoHeaders","localHeaders","youtubeParams","vimeoParams","localParams","localLoadUrl","youtubeLoadUrl","vimeoLoadUrl","youtubeLoadCallback","localBeforeLoad","youtubeBeforeLoad","vimeoBeforeLoad","localBeforeInsert","youtubeBeforeInsert","vimeoBeforeInsert","css","require","editor","Modal","component","options","domcv","DomComponents","getType","dblclick","view","events","oldEvent","onDblClick","getSelected","runCommand","e","dataContainer","container","aside","videoList","footer","pagination","query","trail_amount","total_pages","total_videos","current","timeout","opts","defaults","current_page","large_trail_amount","medium_trail_amount","small_trail_amount","currentIndex","first_page","last_page","next_page","previous_page","on","model","attributes","Commands","add","run","sender","addEventListener","setPaginationBind","open","removeEventListener","remove","loading","loadElement","layoutElement","isLoading","style","display","set","id","video","source","poster","_init","a","title","content","onceOpen","renderHtml","onceClose","stopCommand","setData","setVideos","setPagination","setContent","getInitialHtmlElements","document","createElement","src","setAttribute","innerHTML","appendChild","className","onclick","hideError","height","uploadContainer","alignSelf","fileContainer","uploadLabel","uploadInput","accept","onchange","body","FormData","file","target","files","append","fetch","res","ok","alert","buildQuery","getVideos","catch","errorHandling","createTypeTabs","setType","sources","button","span","classList","toUpperCase","substring","currentTarget","querySelector","dataset","index","showVideos","page","loadUrl","callback","showPreloader","params","json","data","status","response","message","statusText","handleCallback","videos","items","createVideoThumb","q","nextPageToken","prevPageToken","v","snippet","getVideoId","thumbs","thumbnails","pictures","sizes","defaultThumb","default","filter","thumb","width","url","Image","img","figure","imgLi","onload","srcset","join","JSON","stringify","figcaption","innerText","onerror","insertVideo","videoObj","returnObj","close","videosData","pageInfo","totalResults","total","Math","ceil","setTrailAmount","ul","createPaginateIcon","elements","j","add_previous","add_next","prevPage","splice","nextPage","map","el","cloneNode","updatePaginationStyles","ariaLabel","dataPage","liClasses","posinset","svgClasses","paths","li","updatePage","svg","path","outerHTML","querySelectorAll","parseInt","innerWidth","contentDetails","videoId","uri","split","error_code","item","console","log","h2","focus","showError","opacity","setTimeout","clearTimeout","offsetHeight"],"mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAQ,gCAAkCD,IAE1CD,EAAK,gCAAkCC,IARzC,CASyB,oBAAfK,WAA6BA,WAAgC,oBAAXC,OAAyBA,OAASC,MAAO,WACrG,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUT,QAGnC,IAAIC,EAASM,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHX,QAAS,IAUV,OANAY,EAAQH,GAAUI,KAAKZ,EAAOD,QAASC,EAAQA,EAAOD,QAASQ,GAG/DP,EAAOU,GAAI,EAGJV,EAAOD,QA0Df,OArDAQ,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAAShB,EAASiB,EAAMC,GAC3CV,EAAoBW,EAAEnB,EAASiB,IAClCG,OAAOC,eAAerB,EAASiB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAASxB,GACX,oBAAXyB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAerB,EAASyB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAASlC,GAChC,IAAIiB,EAASjB,GAAUA,EAAO6B,WAC7B,WAAwB,OAAO7B,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAO,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,kBClFrDxC,EAAOD,QAAU,EAAQ,I,cCAzB,SAAS0C,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQd,EAAKe,GACpE,IACE,IAAIC,EAAON,EAAIV,GAAKe,GAChBrB,EAAQsB,EAAKtB,MACjB,MAAOuB,GAEP,YADAL,EAAOK,GAILD,EAAKE,KACPP,EAAQjB,GAERyB,QAAQR,QAAQjB,GAAO0B,KAAKP,EAAOC,GAwBvC9C,EAAOD,QApBP,SAA2BsD,GACzB,OAAO,WACL,IAAIC,EAAOjD,KACPkD,EAAOC,UACX,OAAO,IAAIL,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMW,EAAGI,MAAMH,EAAMC,GAEzB,SAASV,EAAMnB,GACbe,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQpB,GAGlE,SAASoB,EAAOY,GACdjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAGnEb,OAAMc,QAMZ3D,EAAOD,QAAQ,WAAaC,EAAOD,QAASC,EAAOD,QAAQ8B,YAAa,G,cCrCxE,SAAS+B,EAAQC,GAiBf,MAdsB,mBAAXrC,QAAoD,iBAApBA,OAAOsC,UAChD9D,EAAOD,QAAU6D,EAAU,SAAiBC,GAC1C,cAAcA,GAGhB7D,EAAOD,QAAQ,WAAaC,EAAOD,QAASC,EAAOD,QAAQ8B,YAAa,IAExE7B,EAAOD,QAAU6D,EAAU,SAAiBC,GAC1C,OAAOA,GAAyB,mBAAXrC,QAAyBqC,EAAIE,cAAgBvC,QAAUqC,IAAQrC,OAAOa,UAAY,gBAAkBwB,GAG3H7D,EAAOD,QAAQ,WAAaC,EAAOD,QAASC,EAAOD,QAAQ8B,YAAa,GAGnE+B,EAAQC,GAGjB7D,EAAOD,QAAU6D,EACjB5D,EAAOD,QAAQ,WAAaC,EAAOD,QAASC,EAAOD,QAAQ8B,YAAa,G,cCNxE7B,EAAOD,QAfP,SAAyB8D,EAAK7B,EAAKN,GAYjC,OAXIM,KAAO6B,EACT1C,OAAOC,eAAeyC,EAAK7B,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZ2C,cAAc,EACdC,UAAU,IAGZJ,EAAI7B,GAAON,EAGNmC,GAIT7D,EAAOD,QAAQ,WAAaC,EAAOD,QAASC,EAAOD,QAAQ8B,YAAa,G,gBCTxE,IAAIqC,EAAW,SAAUnE,GACvB,aAEA,IAEI4D,EAFAQ,EAAKhD,OAAOkB,UACZ+B,EAASD,EAAG7B,eAEZ+B,EAA4B,mBAAX7C,OAAwBA,OAAS,GAClD8C,EAAiBD,EAAQP,UAAY,aACrCS,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQ5C,aAAe,gBAE/C,SAASxB,EAAO4D,EAAK7B,EAAKN,GAOxB,OANAP,OAAOC,eAAeyC,EAAK7B,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZ2C,cAAc,EACdC,UAAU,IAELJ,EAAI7B,GAEb,IAEE/B,EAAO,GAAI,IACX,MAAOyD,GACPzD,EAAS,SAAS4D,EAAK7B,EAAKN,GAC1B,OAAOmC,EAAI7B,GAAON,GAItB,SAASgD,EAAKC,EAASC,EAAStB,EAAMuB,GAEpC,IAAIC,EAAiBF,GAAWA,EAAQvC,qBAAqB0C,EAAYH,EAAUG,EAC/EC,EAAY7D,OAAOY,OAAO+C,EAAezC,WACzC4C,EAAU,IAAIC,EAAQL,GAAe,IAMzC,OAFAG,EAAUG,QAuMZ,SAA0BR,EAASrB,EAAM2B,GACvC,IAAIG,EAAQC,EAEZ,OAAO,SAAgBC,EAAQvC,GAC7B,GAAIqC,IAAUG,EACZ,MAAM,IAAIC,MAAM,gCAGlB,GAAIJ,IAAUK,EAAmB,CAC/B,GAAe,UAAXH,EACF,MAAMvC,EAKR,OAAO2C,IAMT,IAHAT,EAAQK,OAASA,EACjBL,EAAQlC,IAAMA,EAEP,GAAM,CACX,IAAI4C,EAAWV,EAAQU,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUV,GACnD,GAAIW,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBX,EAAQK,OAGVL,EAAQc,KAAOd,EAAQe,MAAQf,EAAQlC,SAElC,GAAuB,UAAnBkC,EAAQK,OAAoB,CACrC,GAAIF,IAAUC,EAEZ,MADAD,EAAQK,EACFR,EAAQlC,IAGhBkC,EAAQgB,kBAAkBhB,EAAQlC,SAEN,WAAnBkC,EAAQK,QACjBL,EAAQiB,OAAO,SAAUjB,EAAQlC,KAGnCqC,EAAQG,EAER,IAAIY,EAASC,EAASzB,EAASrB,EAAM2B,GACrC,GAAoB,WAAhBkB,EAAOE,KAAmB,CAO5B,GAJAjB,EAAQH,EAAQ/B,KACZuC,EACAa,EAEAH,EAAOpD,MAAQ+C,EACjB,SAGF,MAAO,CACLpE,MAAOyE,EAAOpD,IACdG,KAAM+B,EAAQ/B,MAGS,UAAhBiD,EAAOE,OAChBjB,EAAQK,EAGRR,EAAQK,OAAS,QACjBL,EAAQlC,IAAMoD,EAAOpD,OA/QPwD,CAAiB5B,EAASrB,EAAM2B,GAE7CD,EAcT,SAASoB,EAAS/C,EAAIQ,EAAKd,GACzB,IACE,MAAO,CAAEsD,KAAM,SAAUtD,IAAKM,EAAGzC,KAAKiD,EAAKd,IAC3C,MAAOW,GACP,MAAO,CAAE2C,KAAM,QAAStD,IAAKW,IAhBjC3D,EAAQ2E,KAAOA,EAoBf,IAAIW,EAAyB,iBACzBiB,EAAyB,iBACzBf,EAAoB,YACpBE,EAAoB,YAIpBK,EAAmB,GAMvB,SAASf,KACT,SAASyB,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxBzG,EAAOyG,EAAmBpC,GAAgB,WACxC,OAAOjE,QAGT,IAAIsG,EAAWxF,OAAOyF,eAClBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MAC/DD,GACAA,IAA4B1C,GAC5BC,EAAOxD,KAAKiG,EAAyBvC,KAGvCoC,EAAoBG,GAGtB,IAAIE,EAAKN,EAA2BpE,UAClC0C,EAAU1C,UAAYlB,OAAOY,OAAO2E,GAYtC,SAASM,EAAsB3E,GAC7B,CAAC,OAAQ,QAAS,UAAU4E,SAAQ,SAAS3B,GAC3CrF,EAAOoC,EAAWiD,GAAQ,SAASvC,GACjC,OAAO1C,KAAK8E,QAAQG,EAAQvC,SAkClC,SAASmE,EAAclC,EAAWmC,GAgChC,IAAIC,EAgCJ/G,KAAK8E,QA9BL,SAAiBG,EAAQvC,GACvB,SAASsE,IACP,OAAO,IAAIF,GAAY,SAASxE,EAASC,IAnC7C,SAAS0E,EAAOhC,EAAQvC,EAAKJ,EAASC,GACpC,IAAIuD,EAASC,EAASpB,EAAUM,GAASN,EAAWjC,GACpD,GAAoB,UAAhBoD,EAAOE,KAEJ,CACL,IAAIkB,EAASpB,EAAOpD,IAChBrB,EAAQ6F,EAAO7F,MACnB,OAAIA,GACiB,iBAAVA,GACP0C,EAAOxD,KAAKc,EAAO,WACdyF,EAAYxE,QAAQjB,EAAM8F,SAASpE,MAAK,SAAS1B,GACtD4F,EAAO,OAAQ5F,EAAOiB,EAASC,MAC9B,SAASc,GACV4D,EAAO,QAAS5D,EAAKf,EAASC,MAI3BuE,EAAYxE,QAAQjB,GAAO0B,MAAK,SAASqE,GAI9CF,EAAO7F,MAAQ+F,EACf9E,EAAQ4E,MACP,SAAStE,GAGV,OAAOqE,EAAO,QAASrE,EAAON,EAASC,MAvBzCA,EAAOuD,EAAOpD,KAiCZuE,CAAOhC,EAAQvC,EAAKJ,EAASC,MAIjC,OAAOwE,EAaLA,EAAkBA,EAAgBhE,KAChCiE,EAGAA,GACEA,KAkHV,SAASxB,EAAoBF,EAAUV,GACrC,IAAIK,EAASK,EAAS7B,SAASmB,EAAQK,QACvC,GAAIA,IAAW3B,EAAW,CAKxB,GAFAsB,EAAQU,SAAW,KAEI,UAAnBV,EAAQK,OAAoB,CAE9B,GAAIK,EAAS7B,SAAS,YAGpBmB,EAAQK,OAAS,SACjBL,EAAQlC,IAAMY,EACdkC,EAAoBF,EAAUV,GAEP,UAAnBA,EAAQK,QAGV,OAAOQ,EAIXb,EAAQK,OAAS,QACjBL,EAAQlC,IAAM,IAAI2E,UAChB,kDAGJ,OAAO5B,EAGT,IAAIK,EAASC,EAASd,EAAQK,EAAS7B,SAAUmB,EAAQlC,KAEzD,GAAoB,UAAhBoD,EAAOE,KAIT,OAHApB,EAAQK,OAAS,QACjBL,EAAQlC,IAAMoD,EAAOpD,IACrBkC,EAAQU,SAAW,KACZG,EAGT,IAAI9C,EAAOmD,EAAOpD,IAElB,OAAMC,EAOFA,EAAKE,MAGP+B,EAAQU,EAASgC,YAAc3E,EAAKtB,MAGpCuD,EAAQ2C,KAAOjC,EAASkC,QAQD,WAAnB5C,EAAQK,SACVL,EAAQK,OAAS,OACjBL,EAAQlC,IAAMY,GAUlBsB,EAAQU,SAAW,KACZG,GANE9C,GA3BPiC,EAAQK,OAAS,QACjBL,EAAQlC,IAAM,IAAI2E,UAAU,oCAC5BzC,EAAQU,SAAW,KACZG,GAoDX,SAASgC,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB1H,KAAKgI,WAAWC,KAAKN,GAGvB,SAASO,EAAcP,GACrB,IAAI7B,EAAS6B,EAAMQ,YAAc,GACjCrC,EAAOE,KAAO,gBACPF,EAAOpD,IACdiF,EAAMQ,WAAarC,EAGrB,SAASjB,EAAQL,GAIfxE,KAAKgI,WAAa,CAAC,CAAEJ,OAAQ,SAC7BpD,EAAYoC,QAAQa,EAAczH,MAClCA,KAAKoI,OAAM,GA8Bb,SAAS3B,EAAO4B,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAASpE,GAC9B,GAAIqE,EACF,OAAOA,EAAe/H,KAAK8H,GAG7B,GAA6B,mBAAlBA,EAASd,KAClB,OAAOc,EAGT,IAAKE,MAAMF,EAASG,QAAS,CAC3B,IAAIpI,GAAK,EAAGmH,EAAO,SAASA,IAC1B,OAASnH,EAAIiI,EAASG,QACpB,GAAIzE,EAAOxD,KAAK8H,EAAUjI,GAGxB,OAFAmH,EAAKlG,MAAQgH,EAASjI,GACtBmH,EAAK1E,MAAO,EACL0E,EAOX,OAHAA,EAAKlG,MAAQiC,EACbiE,EAAK1E,MAAO,EAEL0E,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAMlC,GAIjB,SAASA,IACP,MAAO,CAAEhE,MAAOiC,EAAWT,MAAM,GA+MnC,OA7mBAsD,EAAkBnE,UAAYoE,EAC9BxG,EAAO8G,EAAI,cAAeN,GAC1BxG,EAAOwG,EAA4B,cAAeD,GAClDA,EAAkBsC,YAAc7I,EAC9BwG,EACAhC,EACA,qBAaF1E,EAAQgJ,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,mBAAXD,GAAyBA,EAAOjF,YAClD,QAAOkF,IACHA,IAASzC,GAG2B,uBAAnCyC,EAAKH,aAAeG,EAAKjI,QAIhCjB,EAAQmJ,KAAO,SAASF,GAQtB,OAPI7H,OAAOgI,eACThI,OAAOgI,eAAeH,EAAQvC,IAE9BuC,EAAOI,UAAY3C,EACnBxG,EAAO+I,EAAQvE,EAAmB,sBAEpCuE,EAAO3G,UAAYlB,OAAOY,OAAOgF,GAC1BiC,GAOTjJ,EAAQsJ,MAAQ,SAAStG,GACvB,MAAO,CAAEyE,QAASzE,IAsEpBiE,EAAsBE,EAAc7E,WACpCpC,EAAOiH,EAAc7E,UAAWkC,GAAqB,WACnD,OAAOlE,QAETN,EAAQmH,cAAgBA,EAKxBnH,EAAQuJ,MAAQ,SAAS3E,EAASC,EAAStB,EAAMuB,EAAasC,QACxC,IAAhBA,IAAwBA,EAAchE,SAE1C,IAAIoG,EAAO,IAAIrC,EACbxC,EAAKC,EAASC,EAAStB,EAAMuB,GAC7BsC,GAGF,OAAOpH,EAAQgJ,oBAAoBnE,GAC/B2E,EACAA,EAAK3B,OAAOxE,MAAK,SAASmE,GACxB,OAAOA,EAAOrE,KAAOqE,EAAO7F,MAAQ6H,EAAK3B,WAuKjDZ,EAAsBD,GAEtB9G,EAAO8G,EAAItC,EAAmB,aAO9BxE,EAAO8G,EAAIzC,GAAgB,WACzB,OAAOjE,QAGTJ,EAAO8G,EAAI,YAAY,WACrB,MAAO,wBAkCThH,EAAQyJ,KAAO,SAASrH,GACtB,IAAIqH,EAAO,GACX,IAAK,IAAIxH,KAAOG,EACdqH,EAAKlB,KAAKtG,GAMZ,OAJAwH,EAAKC,UAIE,SAAS7B,IACd,KAAO4B,EAAKX,QAAQ,CAClB,IAAI7G,EAAMwH,EAAKE,MACf,GAAI1H,KAAOG,EAGT,OAFAyF,EAAKlG,MAAQM,EACb4F,EAAK1E,MAAO,EACL0E,EAQX,OADAA,EAAK1E,MAAO,EACL0E,IAsCX7H,EAAQ+G,OAASA,EAMjB5B,EAAQ7C,UAAY,CAClB0B,YAAamB,EAEbuD,MAAO,SAASkB,GAcd,GAbAtJ,KAAKuJ,KAAO,EACZvJ,KAAKuH,KAAO,EAGZvH,KAAK0F,KAAO1F,KAAK2F,MAAQrC,EACzBtD,KAAK6C,MAAO,EACZ7C,KAAKsF,SAAW,KAEhBtF,KAAKiF,OAAS,OACdjF,KAAK0C,IAAMY,EAEXtD,KAAKgI,WAAWpB,QAAQsB,IAEnBoB,EACH,IAAK,IAAI3I,KAAQX,KAEQ,MAAnBW,EAAK6I,OAAO,IACZzF,EAAOxD,KAAKP,KAAMW,KACjB4H,OAAO5H,EAAK8I,MAAM,MACrBzJ,KAAKW,GAAQ2C,IAMrBoG,KAAM,WACJ1J,KAAK6C,MAAO,EAEZ,IACI8G,EADY3J,KAAKgI,WAAW,GACLG,WAC3B,GAAwB,UAApBwB,EAAW3D,KACb,MAAM2D,EAAWjH,IAGnB,OAAO1C,KAAK4J,MAGdhE,kBAAmB,SAASiE,GAC1B,GAAI7J,KAAK6C,KACP,MAAMgH,EAGR,IAAIjF,EAAU5E,KACd,SAAS8J,EAAOC,EAAKC,GAYnB,OAXAlE,EAAOE,KAAO,QACdF,EAAOpD,IAAMmH,EACbjF,EAAQ2C,KAAOwC,EAEXC,IAGFpF,EAAQK,OAAS,OACjBL,EAAQlC,IAAMY,KAGN0G,EAGZ,IAAK,IAAI5J,EAAIJ,KAAKgI,WAAWQ,OAAS,EAAGpI,GAAK,IAAKA,EAAG,CACpD,IAAIuH,EAAQ3H,KAAKgI,WAAW5H,GACxB0F,EAAS6B,EAAMQ,WAEnB,GAAqB,SAAjBR,EAAMC,OAIR,OAAOkC,EAAO,OAGhB,GAAInC,EAAMC,QAAU5H,KAAKuJ,KAAM,CAC7B,IAAIU,EAAWlG,EAAOxD,KAAKoH,EAAO,YAC9BuC,EAAanG,EAAOxD,KAAKoH,EAAO,cAEpC,GAAIsC,GAAYC,EAAY,CAC1B,GAAIlK,KAAKuJ,KAAO5B,EAAME,SACpB,OAAOiC,EAAOnC,EAAME,UAAU,GACzB,GAAI7H,KAAKuJ,KAAO5B,EAAMG,WAC3B,OAAOgC,EAAOnC,EAAMG,iBAGjB,GAAImC,GACT,GAAIjK,KAAKuJ,KAAO5B,EAAME,SACpB,OAAOiC,EAAOnC,EAAME,UAAU,OAG3B,KAAIqC,EAMT,MAAM,IAAI/E,MAAM,0CALhB,GAAInF,KAAKuJ,KAAO5B,EAAMG,WACpB,OAAOgC,EAAOnC,EAAMG,gBAU9BjC,OAAQ,SAASG,EAAMtD,GACrB,IAAK,IAAItC,EAAIJ,KAAKgI,WAAWQ,OAAS,EAAGpI,GAAK,IAAKA,EAAG,CACpD,IAAIuH,EAAQ3H,KAAKgI,WAAW5H,GAC5B,GAAIuH,EAAMC,QAAU5H,KAAKuJ,MACrBxF,EAAOxD,KAAKoH,EAAO,eACnB3H,KAAKuJ,KAAO5B,EAAMG,WAAY,CAChC,IAAIqC,EAAexC,EACnB,OAIAwC,IACU,UAATnE,GACS,aAATA,IACDmE,EAAavC,QAAUlF,GACvBA,GAAOyH,EAAarC,aAGtBqC,EAAe,MAGjB,IAAIrE,EAASqE,EAAeA,EAAahC,WAAa,GAItD,OAHArC,EAAOE,KAAOA,EACdF,EAAOpD,IAAMA,EAETyH,GACFnK,KAAKiF,OAAS,OACdjF,KAAKuH,KAAO4C,EAAarC,WAClBrC,GAGFzF,KAAKoK,SAAStE,IAGvBsE,SAAU,SAAStE,EAAQiC,GACzB,GAAoB,UAAhBjC,EAAOE,KACT,MAAMF,EAAOpD,IAcf,MAXoB,UAAhBoD,EAAOE,MACS,aAAhBF,EAAOE,KACThG,KAAKuH,KAAOzB,EAAOpD,IACM,WAAhBoD,EAAOE,MAChBhG,KAAK4J,KAAO5J,KAAK0C,IAAMoD,EAAOpD,IAC9B1C,KAAKiF,OAAS,SACdjF,KAAKuH,KAAO,OACa,WAAhBzB,EAAOE,MAAqB+B,IACrC/H,KAAKuH,KAAOQ,GAGPtC,GAGT4E,OAAQ,SAASvC,GACf,IAAK,IAAI1H,EAAIJ,KAAKgI,WAAWQ,OAAS,EAAGpI,GAAK,IAAKA,EAAG,CACpD,IAAIuH,EAAQ3H,KAAKgI,WAAW5H,GAC5B,GAAIuH,EAAMG,aAAeA,EAGvB,OAFA9H,KAAKoK,SAASzC,EAAMQ,WAAYR,EAAMI,UACtCG,EAAcP,GACPlC,IAKb,MAAS,SAASmC,GAChB,IAAK,IAAIxH,EAAIJ,KAAKgI,WAAWQ,OAAS,EAAGpI,GAAK,IAAKA,EAAG,CACpD,IAAIuH,EAAQ3H,KAAKgI,WAAW5H,GAC5B,GAAIuH,EAAMC,SAAWA,EAAQ,CAC3B,IAAI9B,EAAS6B,EAAMQ,WACnB,GAAoB,UAAhBrC,EAAOE,KAAkB,CAC3B,IAAIsE,EAASxE,EAAOpD,IACpBwF,EAAcP,GAEhB,OAAO2C,GAMX,MAAM,IAAInF,MAAM,0BAGlBoF,cAAe,SAASlC,EAAUf,EAAYE,GAa5C,OAZAxH,KAAKsF,SAAW,CACd7B,SAAUgD,EAAO4B,GACjBf,WAAYA,EACZE,QAASA,GAGS,SAAhBxH,KAAKiF,SAGPjF,KAAK0C,IAAMY,GAGNmC,IAQJ/F,EA9sBK,CAqtBZ,EAA6BC,EAAOD,aAAU,GAGhD,IACE8K,mBAAqB3G,EACrB,MAAO4G,GAWmB,iBAAf3K,WACTA,WAAW0K,mBAAqB3G,EAEhC6G,SAAS,IAAK,yBAAdA,CAAwC7G,K,cC/uB5ClE,EAAOD,QAAP,+6Q,wGCAe,GACXiL,UAAW,EACXC,mBAAoB,KACpBC,qBAAsB,KAKtBC,UAAY,GAOZC,YAAa,KAEbC,UAAW,KAEXC,UAAW,KAGXC,UAAW,KAGXC,SAAU,GAGVC,eAAgB,GAEhBC,aAAc,GAEdC,aAAc,GAGdC,cAAe,GAEfC,YAAa,GAEbC,YAAa,GAGbC,aAAc,KAGdC,eAAgB,KAGhBC,aAAc,KAmCdC,oBAAqB,KAQrBC,gBAAiB,KAKjBC,kBAAmB,KAKnBC,gBAAiB,KAQjBC,kBAAmB,KAKnBC,oBAAqB,KAKrBC,kBAAmB,M,0kBCtHvB,IAAMC,EAAOC,EAAQ,GAGN,sBAACC,GAAyB,IAoBjCC,EAAOC,EApBSC,EAAiB,uDAAP,GAExBC,EAAQJ,EAAOK,cAAcC,QAAQ,SACrCC,EAAWH,EAAMI,KAAK9K,UAAU+K,OAAOF,UAAqD,eAAzCH,EAAMI,KAAK9K,UAAU+K,OAAOF,SAA4BH,EAAMI,KAAK9K,UAAU+K,OAAOF,SAAW,KAClJG,EAAWN,EAAMI,KAAK9K,UAAU+K,OAAOF,SAAWH,EAAMI,KAAK9K,UAAU6K,GAAY,KAGzFH,EAAMI,KAAK9K,UAAU+K,OAAOF,SAAW,aAEvCH,EAAMI,KAAK9K,UAAUiL,WAAa,WAE9BT,EAAYF,EAAOY,eAAiB,GACpCZ,EAAOa,WAAW,eAGfH,GAAUN,EAAMI,KAAK9K,UAAU6K,GAAUO,IAQhD,IAMIlC,EAAWtI,EAAOyK,EAAeC,EAAWC,EAAOC,EAAWC,EAAQC,EAGtEC,EAAOC,EAAcC,EAAaC,EAOlCC,EASAC,EAzBEC,EAAO,EAAH,KAAOC,GAAazB,GAG1B0B,EAAe,EAQfC,EAAqB,GACrBC,EAAsB,EACtBC,EAAqB,EAGZC,EAAe,EAGxBC,EAAa,CAAE9N,EAAG,6DAClB+N,EAAY,CAAE/N,EAAG,uDACjBgO,EAAY,CAAEhO,EAAG,uDACjBiO,EAAgB,CAAEjO,EAAG,yDAMzB4L,EAAOsC,GAAG,iBAAiB,SAACC,GACI,SAAzBA,EAAMC,WAAW9I,OAChBwG,EAAYqC,EACZvC,EAAOa,WAAW,mBAI1Bb,EAAOyC,SAASC,IAAI,cAAe,CAC/BC,IAD+B,SAC3B3C,EAAQ4C,GAGR,OADAnP,OAAOoP,iBAAiB,SAAUC,IAC3BC,KAEX3F,KAN+B,SAM1B4C,EAAQ4C,GAETnP,OAAOuP,oBAAoB,SAAUF,IACrC/B,EAAckC,YAItB,IAAMC,EAAU,SAACC,EAAaC,EAAeC,GACtB,MAAfF,IACIE,GACAF,EAAYG,MAAMC,QAAU,QAC5BH,EAAcE,MAAMC,QAAU,SAE9BJ,EAAYG,MAAMC,QAAU,OAC5BH,EAAcE,MAAMC,QAAU,WAK1CvD,EAAOyC,SAASC,IAAI,eAAgB,CAChCC,IADgC,SAC5B3C,EAAQ4C,EAAQzC,GAEhB,MAAsB,WAAnBA,EAAQsB,SACPvB,EAAUsD,IAAI,WAAY,WAC1BtD,EAAUsD,IAAI,UAAWrD,EAAQsD,KAIf,SAAnBtD,EAAQsB,SACPvB,EAAUsD,IAAI,WAAY,WAC1BtD,EAAUsD,IAAI,UAAWrD,EAAQsD,KAIf,SAAnBtD,EAAQsB,SACPvB,EAAUsD,IAAI,WAAY,MAC1BtD,EAAUsD,IAAI,MAAOrD,EAAQuD,MAAMC,aACnCzD,EAAUsD,IAAI,SAAUrD,EAAQuD,MAAME,cAH1C,KAaR,IAAMC,EAAQ,WACV5D,EAAQD,EAAOC,OAGb8C,EAAI,+BAAG,sBAAAe,EAAA,8DACL7D,GAAO4D,IADF,SAGH5D,EAAM8C,KAAK,CACbgB,MAAO,iBACPC,QAAS,GACTxB,WAAY,CACRiB,GAAI,iBAGXQ,SAAUC,KACVC,WAAW,kBAAMnE,EAAOoE,YAAY,kBAX5B,2CAAH,qDAmBJC,EAAU,WACZC,IACAC,IACAtE,EAAMuE,WAAWzD,IAIf0D,EAAyB,WAE1B9C,EAAK/C,YAAcA,EAAY8F,SAASC,cAAc,QAAkBC,IAAMjD,EAAK/C,UAAWA,EAAUiG,aAAa,MAAO,gBAAkBjG,EAAY8F,SAASC,cAAc,OAAiBG,UAAY,aAAelG,EAAU6E,GAAG,aAgB3O1C,EAAgB2D,SAASC,cAAc,QACzBlB,GAAK,kBAEnBnN,EAAQoO,SAASC,cAAc,QACzBI,YAAYL,SAASC,cAAc,OACzCrO,EAAM0O,UAAY,cAClB1O,EAAM2O,QAAUC,GAChB5O,EAAMgN,MAAMC,QAAU,OACtBjN,EAAMgN,MAAM6B,OAAS,MAErB,IAAI7B,EAAQoB,SAASC,cAAc,SACnCrB,EAAMwB,UAAYhF,EAClBiB,EAAcgE,YAAYzB,IAE1BrC,EAAQyD,SAASC,cAAc,UACzBlB,GAAK,aACX1C,EAAcgE,YAAY9D,GAE1B,IAAImE,EAAkBV,SAASC,cAAc,OAC7CS,EAAgB3B,GAAK,mBACrB2B,EAAgB9B,MAAM+B,UAAY,MAElC,IAAIC,EAAgBZ,SAASC,cAAc,OAC3CW,EAAcN,UAAY,UAE1B,IAAIO,EAAcb,SAASC,cAAc,SACzCY,EAAYV,aAAa,MAAO,WAChCU,EAAYT,UAAY,MAExB,IAAIU,EAAcd,SAASC,cAAc,SACzCa,EAAY/B,GAAK,UACjB+B,EAAY9L,KAAO,OACnB8L,EAAYC,OAAS,2CACrBD,EAAYE,SAAW,SAAS5E,GAC5B,GAAmB,KAAfpN,KAAKqB,MAAc,CACnB,IAAM4Q,EAAO,IAAIC,SACXC,EAAO/E,EAAEgF,OAAOC,MAAM,GAC5BJ,EAAKK,OAAO,OAAQH,GAEpB,IAAI1C,EAAchD,EAAQ7B,mBACtB8E,EAAgBjD,EAAQ5B,qBAE5B2E,EAAQC,EAAaC,GAAe,GAEpC6C,MAAM,uBAAyB9F,EAAQ9B,UACvC,CAAC1F,OAAQ,OAAQgN,KAAMA,IAClBlP,KAFL,+BAEW,WAAMyP,GAAN,SAAApC,EAAA,uDAEHZ,EAAQC,EAAaC,GAAe,GAChC8C,EAAIC,IACJC,MAAM,iBACNtF,EAAEgF,OAAO/Q,MAAQ,GACjB8M,EAAe,EACfR,EAAQgF,IACRC,MAEAF,MAAM,gBACNtF,EAAEgF,OAAO/Q,MAAQ,IAXlB,2CAFX,uDAiBKwR,OAAO,SAAAxP,GAEJ,OADAmM,EAAQC,EAAaC,GAAe,GAC7BoD,GAAc,IAAK,sBAAuBzP,QAKjEuO,EAAcP,YAAYQ,GAC1BD,EAAcP,YAAYS,GAC1BJ,EAAgBL,YAAYO,GAE5BvE,EAAcgE,YAAYK,IAE1BpE,EAAY0D,SAASC,cAAc,QACzBlB,GAAK,mBAEfvC,EAAYwD,SAASC,cAAc,OACzBlB,GAAK,cAEftC,EAASuD,SAASC,cAAc,WACzBlB,GAAK,yBAEZrC,EAAasD,SAASC,cAAc,QACzBlB,GAAK,iBAChBtC,EAAO4D,YAAY3D,GAEnBJ,EAAU+D,YAAYzO,GAAQ0K,EAAU+D,YAAYnG,GAAYoC,EAAU+D,YAAY7D,GACtFH,EAAcgE,YAAY/D,GAAYD,EAAcgE,YAAY5D,GAEhElB,EAAMuE,WAAWzD,IAGfmD,EAAa,WAIf,GAHAO,KAGI9C,EAAKnD,YAAcmD,EAAKnD,UAAUtC,OAClC,OAAOsK,GAAc,IAAK7E,EAAKnD,UAAW,sLAI3CmD,EAAKnD,UAAUtC,OAAS,EACvBuK,EAAe9E,EAAKnD,WAEpByC,EAAMgC,SAIVyD,KAGED,EAAiB,SAACE,GACpB,IAAI,IAAI7S,EAAI,EAAGA,EAAI6S,EAAQzK,OAAQpI,IAAI,CACnC,IAAI8S,EAASlC,SAASC,cAAc,UAChCkC,EAAOnC,SAASC,cAAc,QAClCiC,EAAO5B,UAAY,oCAAqC4B,EAAO/B,aAAa,aAAc/Q,GACvFA,GAAKmO,GAAc2E,EAAOE,UAAUpE,IAAI,kBAC3CmE,EAAK/B,UAAY6B,EAAQ7S,GAAG,GAAGiT,cAAgBJ,EAAQ7S,GAAGkT,UAAU,GACpEJ,EAAO3B,QAAUyB,EACjBE,EAAO7B,YAAY8B,GAEnB5F,EAAM8D,YAAY6B,KAIpBF,EAAU,WAAW,IAAV5F,EAAU,uDAAN,GAGjB,GAAGA,EAAEmG,eAAiBnG,EAAEgF,OAAO,CAC3B,IAAIc,EAAS9F,EAAEmG,eAAiBnG,EAAEgF,OAClCc,EAAOE,UAAUpE,IAAI,kBACrBgC,SAASwC,cAAT,uCAAsDjF,EAAtD,QAAwE6E,UAAU7D,OAAO,kBACzFhB,EAAe2E,EAAOO,QAAQC,MAIlC,OADA3F,EAAUE,EAAKnD,UAAUyD,IAKtBN,EAAK,GAAD,OAAIF,EAAJ,UACH4F,KAEAxF,EAAeF,EAAK,GAAD,OAAIF,EAAJ,SAAmB6F,KAC/BjD,KAGJiC,IAXaE,GAAc,IAAK/E,EAAS,mEAmB9C6E,EAAS,+BAAG,gCAAAxC,EAAA,8DACdzC,EAAQgF,IAEJkB,EAAU5F,EAAK,GAAD,OAAIF,EAAJ,YACd+F,EAAW7F,EAAK,GAAD,OAAIF,EAAJ,iBACnBgG,MAEIC,EAAS/F,EAAK,GAAD,OAAIF,EAAJ,WAAuBE,EAAK,GAAD,OAAIF,EAAJ,WAAuB,IAC5D,WAAeE,EAAK,GAAD,OAAIF,EAAJ,YAAwBE,EAAK,GAAD,OAAIF,EAAJ,YAAwB,GARhE,kBAUP8F,EACHtB,MAAOsB,EAAUlG,EAAOqG,GACvBjR,KADD,+BACO,WAAMyP,GAAN,eAAApC,EAAA,uEACcoC,EAAIyB,OADlB,UACCC,EADD,QAGA1B,EAAIC,GAHJ,sBAIe,WAAX1E,IAAsBmG,EAAKN,KAAOzF,GAClCF,EAAK,GAAD,OAAIF,EAAJ,iBAA0BmG,EAAOjG,EAAK,GAAD,OAAIF,EAAJ,eAAyBmG,IACrEjG,EAAK,GAAD,OAAIF,EAAJ,SAAqBmG,EACzBP,KAPD,kBAQQhD,KARR,yCAYQmC,GAAcN,EAAI2B,OAAQN,EAAUlG,EAAOuG,EAAKE,SAASF,KAAKtR,MAAMyR,UAZ5E,2CAcO,IAAIlP,MAAMqN,EAAI8B,YAdrB,0DADP,uDAkBCzB,OAAO,SAAAxP,GACJ,OAAOyP,GAAc,IAAKe,EAAUlG,EAAOtK,MAE7CyQ,EAAYS,EAAeT,EAAUnG,EAAOqG,GAC5ClB,GAAc,IAAKe,EAAUlG,EAAO,KAAMmG,EAAU,sDAAwD/F,EAAU,eAjC9G,2CAAH,qDAoCTwG,EAAc,+BAAG,WAAOT,EAAUnG,EAAOqG,GAAxB,eAAA5D,EAAA,uEACF0D,EAASnG,EAAOqG,GADd,UACfzT,EADe,OAGA,WAAhB,IAAOA,GAHS,yCAGiBuS,GAAc,IAAKgB,EAAU,gCAH9C,WAIhBvT,EAAKqC,MAJW,yCAIGkQ,GAAclQ,EAAMuR,OAAQL,EAAUlR,EAAMyR,UAJ/C,cAMnBpG,EAAK,GAAD,OAAIF,EAAJ,SAAqBxN,EACzBoT,KAPmB,kBAQZhD,KARY,4CAAH,0DAWdC,EAAY,WACd,IAAIsD,EAAOjG,EAAK,GAAD,OAAIF,EAAJ,SACXyG,EAASN,EAAKO,OAASP,EAAKA,MAAQ,GAGxC,GAFA1G,EAAU4D,UAAY,KAEnBoD,EAAOhM,OAAS,GAKf,OAAOsK,GAAc,IAAKoB,EAAM,mCAJhC,IAAI,IAAI9T,EAAI,EAAGA,EAAIoU,EAAOhM,OAAQpI,IAC9BsU,EAAiBF,EAAOpU,GAAIA,IAOlCuS,EAAa,WACf,IAAIgC,EAAI,GAUR,OARG1G,EAAK9C,WAAUwJ,IAAMA,EAAEnM,OAAS,IAAM,KAAO,YAAcyF,EAAK9C,UAEhE8C,EAAK,GAAD,OAAIF,EAAJ,WAAuBE,EAAK,GAAD,OAAIF,EAAJ,SAAmB6G,eAAiB3G,EAAK,GAAD,OAAIF,EAAJ,SAAmB8G,eACzFF,IAAMA,EAAEnM,OAAS,IAAM,KAAO,eAAiB2F,EAAeF,EAAK,GAAD,OAAIF,EAAJ,SAAmB6F,KAAO3F,EAAK,GAAD,OAAIF,EAAJ,SAAmB6G,cAAgB3G,EAAK,GAAD,OAAIF,EAAJ,SAAmB8G,eACrJ5G,EAAK,GAAD,OAAIF,EAAJ,UAAsBE,EAAK,GAAD,OAAIF,EAAJ,SAAmB6F,OACtDe,IAAMA,EAAEnM,OAAS,IAAM,KAAO,QAAU2F,GAGrCwG,GAGLD,EAAmB,SAACI,EAAGpB,GAEzB,IAAI1D,EAAQ8E,EAAEC,SAAWD,EACrB/E,EAAKiF,GAAWF,GAChBG,EAASjF,EAAMkF,YAAclF,EAAMmF,SAASC,OAAS,GACrDC,EAAeJ,EAAOK,UAAYL,EAAOzM,OAASyM,EAAOM,QAAQ,SAAAC,GAAK,OAAIA,EAAMC,MAAQ,KAAOD,EAAMC,MAAQ,OAAK,GAAK,OAASR,EAAO,GAC3I,KAAKlF,GAAMC,GAASiF,GAAUI,GAAe,OAAOvC,GAAc,IAAK9C,GACvE,IAAI0F,EAAOL,EAAaK,IAAM,MAAQ,OAElCtV,EAAI,IAAIuV,MAAMN,EAAaI,MAAOJ,EAAa5D,QACnDmE,EAAM5E,SAASC,cAAc,OAC7B4E,EAAS7E,SAASC,cAAc,UAChC6E,EAAQ9E,SAASC,cAAc,MAC/B6E,EAAM3E,aAAa,QAAS,qCAAuCuC,GAAQoC,EAAM3E,aAAa,eAAgB,cAAe2E,EAAM3E,aAAa,gBAAiB,YAEjK/Q,EAAE2V,OAAS,WACPH,EAAIzE,aAAa,MAAOkE,EAAaK,IACrC,IAAIM,EAAS,GAGb,IAAI,IAAIrV,KAAQsU,EAAO,CACnB,IAAIQ,EAAQR,EAAOtU,GAAM8U,MACzBO,EAAOP,GAAP,UAAmBR,EAAOtU,GAAM+U,GAAhC,YAAwCD,EAAxC,KAQJ,IAAK,IAAIvU,KALT8U,EAASlV,OAAO2F,OAAOuP,GAAQC,KAAK,MACpCL,EAAIzE,aAAa,SAAU6E,GAIbhG,EAAWA,EAAM/N,eAAef,IAAW,YAALA,IAAoC,UAAnB,IAAO8O,EAAM9O,IAAiB0U,EAAIzE,aAAa,QAAQjQ,EAAGgV,KAAKC,UAAUnG,EAAM9O,KAAO0U,EAAIzE,aAAa,QAAQjQ,EAAG8O,EAAM9O,KAE7L0U,EAAIG,OAAS,WACTD,EAAM1C,UAAU7D,OAAO,gBAG3BsG,EAAOxE,YAAYuE,GAEnB,IAAIvF,EAAQL,EAAMK,OAASL,EAAMrP,KACjC,GAAG0P,EAAM,CACLuF,EAAIzE,aAAa,MAAOd,GACxB,IAAI+F,EAAapF,SAASC,cAAc,cACxCmF,EAAWC,UAAYhG,EACvBwF,EAAOxE,YAAY+E,KAI3BhW,EAAEkW,QAAU,WACRR,EAAMvG,SAAUuD,GAAc,IAAK9C,IAGvC5P,EAAE8Q,IAAMmE,EAAaK,GAGrBE,EAAIzE,aAAa,QAAS,UAC1ByE,EAAIzE,aAAa,aAAcuC,GAC/BkC,EAAIzE,aAAa,UAAWpB,GAC5B6F,EAAIzE,aAAa,YAAa,UAC9ByE,EAAIrE,QAAUgF,EAEdV,EAAOzC,UAAUpE,IAAI,gBAErB8G,EAAMzE,YAAYwE,GAClBrI,EAAU6D,YAAYyE,IAGpBS,EAAc,SAACnJ,GACjB,IAAIsG,EAAO3D,EAAImE,EAAMsC,EAAUC,EAc/B,GAbArJ,EAAEmG,eAAiBG,EAAQtG,EAAEmG,cAAcE,QAAQC,MAAO3D,EAAK3C,EAAEmG,cAAcE,QAAQ1D,IAAM3C,EAAEgF,SAAUsB,EAAQtG,EAAEgF,OAAOqB,QAAQC,MAAO3D,EAAK3C,EAAEgF,OAAOqB,QAAQ1D,IAG/JyG,GADAtC,EAAOjG,EAAK,GAAD,OAAIF,EAAJ,UACK0G,MAAQP,EAAKO,MAAMf,GAASQ,EAAKA,KAAKR,GAEtD+C,EAAY,CACRjK,UAAWA,EACXuB,QAASA,EACTiC,MAAQwG,EACRzG,GAAIA,GAGL9B,EAAK,GAAD,OAAIF,EAAJ,mBAA4B0I,EAAYxI,EAAK,GAAD,OAAIF,EAAJ,iBAA2B0I,KACzE/C,IAAS3D,EAAK,OAAO+C,GAAc,IAAK2D,EAAW,uFAExDnK,EAAOa,WAAY,eAAgBsJ,GACnCnK,EAAOoE,YAAY,gBACnBnE,EAAMmK,SAGJ7F,EAAgB,WAClBnD,EAAW0D,UAAY,GACvB,IAAIuF,EAAa1I,EAAK,GAAD,OAAIF,EAAJ,SAUrB,GATAD,EAAe6I,EAAWC,SAAWD,EAAWC,SAASC,aAAeF,EAAWG,MAEnFjJ,EAAckJ,KAAKC,KAAMlJ,EAAeG,EAAK9C,UAK7C8L,KAEGpJ,EAAc,EAAE,CACf,IAAIqJ,EAAKlG,SAASC,cAAc,MAChCiG,EAAG/F,aAAa,OAAQ,WACxB,IAAIjQ,EAAI8P,SAASC,cAAc,MAC/B/P,EAAEiQ,aAAa,eAAe,GAAOjQ,EAAEoQ,UAAY,qBAAsBpQ,EAAEkQ,UAAY,MAGzE,WAAXrD,GAAsBmJ,EAAG7F,YAAY8F,GAAmB,aAAc,EAAG,oCAAqC,EAAG,uBAAwB3I,EAAW9N,IACvJwW,EAAG7F,YAAY8F,GAAmB,gBAAkBhJ,EAAe,GAAK,EAAI,EAAIA,EAAc,EAAK,oCAAsCA,EAAe,GAAK,EAAI,EAAIA,EAAc,EAAK,uBAAwBQ,EAAcjO,IAC9NwW,EAAG7F,YAAYnQ,GAGf,IAAIkW,EAAW,GAGfA,EAASnP,KAAKkP,GAAmB,QAAUhJ,EAAcA,EAAc,0BAA2BA,IAMlG,IAJA,IAAI/N,EAAIwN,EACJyJ,EAAI,EACJC,EAAe,EACfC,EAAW,EACTnX,EAAI,GAAE,CACR,IAAIoX,EAAWrJ,EAAemJ,EAC1BE,EAAW,IACXJ,EAASK,OAAO,EAAG,EAAGN,GAAmB,QAAUK,EAAUA,EAAU,0BAA2BA,IAClGF,IACAlX,KAGJ,IAAIsX,EAAWvJ,EAAeoJ,EAS9B,GARGG,GAAY7J,IACXuJ,EAASnP,KAAKkP,GAAmB,QAAUO,EAAUA,EAAU,0BAA2BA,IAC1FH,IACAnX,OAIJiX,EACOzJ,EAAc,MAGzBwJ,EAASO,KAAK,SAAAC,GAAE,OAAIV,EAAG7F,YAAYuG,OAEnC1W,EAAIA,EAAE2W,WAAU,IACdvG,UAAY,iBAEd4F,EAAG7F,YAAYnQ,GACfgW,EAAG7F,YAAY8F,GAAmB,YAAchJ,EAAc,GAAKN,EAAcA,EAAcM,EAAe,EAAI,mCAAqCA,EAAc,GAAKN,EAAcA,EAAcM,EAAe,EAAI,uBAAwBO,EAAUhO,IAC7O,WAAXqN,GAAsBmJ,EAAG7F,YAAY8F,GAAmB,YAAatJ,EAAa,mCAAoCA,EAAa,uBAAwBY,EAAU/N,IAExKgN,EAAW2D,YAAY6F,QAEvBxJ,EAAW0D,UAAY,0DAG3B0G,MAIE1I,GAAoByB,EAAcjP,KAAK,GAEvCuV,GAAqB,SAACY,EAAWC,EAAUC,EAAWC,GAA6C,IAAnCC,EAAmC,uDAAtB,KAAMC,EAAgB,uDAAR,KACzFC,EAAKrH,SAASC,cAAc,MAChCoH,EAAG9G,QAAU+G,GACbD,EAAGlH,aAAa,aAAc4G,GAC9BM,EAAGlH,aAAa,YAAa6G,GAC7BK,EAAG/G,UAAY2G,EACf,IAAI7H,EAAIY,SAASC,cAAc,KAG/B,GAFAb,EAAEe,aAAa,gBAAiB+G,GAE7BC,EAAW,CACV,IAAII,EAAMvH,SAASC,cAAc,OACjCsH,EAAIpH,aAAa,SAAU,QAC3BoH,EAAIpH,aAAa,QAAS,SAC1BoH,EAAIpH,aAAa,QAAS,8BAC1BoH,EAAIpH,aAAa,sBAAuB,iBACxCoH,EAAIpH,aAAa,UAAW,aAC5BoH,EAAIjH,UAAY6G,EAChB,IAAIK,EAAOxH,SAASC,cAAc,QAClCuH,EAAKrH,aAAa,IAAKiH,GACvBG,EAAIjG,OAAOkG,GAEXpI,EAAEgB,UAAYmH,EAAIE,eAElBrI,EAAEgB,UAAY4G,EAIlB,OADAK,EAAG/F,OAAOlC,GACHiI,GAGLP,GAAyB,WAC3BrK,EAAOiL,iBAAiB,cAAc9R,SAAS,SAAAgR,GAAE,OAAIA,EAAGxE,UAAU7D,OAAO,oBACzE9B,EAAOiL,iBAAiB,SAAS9R,SAAS,SAAAgR,GAAE,OAAIA,EAAGhI,MAAMC,QAAU,UAGnEpC,EAAOiL,iBAAiB,+BAA+BvK,EAAa,QAAQvH,SAAS,SAAAgR,GAAE,OAAIA,EAAGxE,UAAUpE,IAAI,oBAEzF,GAAhBb,GAAmBV,EAAOiL,iBAAiB,qBAAqB9R,SAAS,SAAAgR,GAAE,OAAIA,EAAGxE,UAAUpE,IAAI,oBAE/Fb,EAAgBP,EAAa,EAAMC,GAAaJ,EAAOiL,iBAAiB,mBAAmB9R,SAAS,SAAAgR,GAAE,OAAIA,EAAGhI,MAAMC,QAAU,WAE7H1B,EAAgBP,EAAa,EAAM,GAAGH,EAAOiL,iBAAiB,uBAAuB9R,SAAS,SAAAgR,GAAE,OAAIA,EAAGhI,MAAMC,QAAU,WAExH1B,GAAgBN,GAAaJ,EAAOiL,iBAAiB,oBAAoB9R,SAAS,SAAAgR,GAAE,OAAIA,EAAGxE,UAAUpE,IAAI,qBAG1GsJ,GAAa,SAAClL,GAChB,IAAIwG,EAAO+E,SAASvL,EAAEmG,cAAcE,QAAQG,MAEzCzF,IAAiByF,GAEjBA,IACCzF,EAAeyF,EACfjG,EAAQgF,IAERC,MAIFqE,GAAiB,WAEfrJ,EADU,WAAXG,EACgB,EACVhO,OAAO6Y,WAAa,KACVxK,EACVrO,OAAO6Y,WAAa,IACVvK,EAEAC,GAIjB0G,GAAa,SAAChF,GAEhB,OAAGA,EAAM6I,eAAuB7I,EAAM6I,eAAeC,QAGlD9I,EAAMD,GAAWC,EAAMD,GAGvBC,EAAM+I,IAAa/I,EAAM+I,IAAIC,MAAM,KAAK3P,MAGpC,MAGLyJ,GAAgB,SAACmG,EAAYC,GAAyB,IAAnB7E,EAAmB,uDAAT,KAG/C,GAFA8E,QAAQC,IAAIH,EAAYC,EAAM7E,GAE3BA,EAAQ,CACP,IAAIgF,EAAKzW,EAAM4Q,cAAc,MAC7B6F,EAAGjI,UAAY,mGAAqG6H,EAAa,MAAQ5E,EACzIgF,EAAGC,QACHC,OAIF5F,GAAa,WACfzI,EAAU0E,MAAMC,QAAU,OAC1BrC,EAAUoC,MAAMC,QAAU,MAGxBkE,GAAgB,WAClB7I,EAAU0E,MAAMC,QAAU,QAC1BrC,EAAUoC,MAAMC,QAAU,QAGxB2B,GAAY,WACd5O,EAAMgN,MAAM6B,OAAS,MACrB7O,EAAMgN,MAAM4J,QAAU,EACtBxL,EAAUyL,YAAY,WAClB7W,EAAMgN,MAAMC,QAAU,SACvB,MAGD0J,GAAY,WACdG,aAAa1L,GACbpL,EAAMgN,MAAMC,QAAU,QACtB,IAAIwJ,EAAKzW,EAAM4Q,cAAc,MAE7B5Q,EAAMgN,MAAM6B,OAAS4H,EAAGM,aAAe,KACvC/W,EAAMgN,MAAM4J,QAAU","file":"grapesjs-video-embed-manager.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-video-embed-manager\"] = factory();\n\telse\n\t\troot[\"grapesjs-video-embed-manager\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = `\n#video-container > #video-list > li.video-container > figure > img {\n    width: 100%;\n}\n\n#upload-button:hover {\n    background-color: rgba(255,255,255,.2);\n}\n\n.filebox label {\n  display: inline-block;\n  padding: .5em .75em;\n  color: black;\n  font-size: inherit;\n  line-height: normal;\n  vertical-align: middle;\n  background-color: #fdfdfd;\n  cursor: pointer;\n  border: 1px solid #ebebeb;\n  border-bottom-color: #e2e2e2;\n  border-radius: .25em;\n}\n\n.filebox input[type=\"file\"] { \n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip:rect(0,0,0,0);\n  border: 0;\n}\n\n#video-container > #preloader {\n    width: 100%;\n}\n\n#video-modal > .gjs-mdl-dialog {\n    height: 85vh;\n    width: 75vw;\n    max-width: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content {\n    flex-grow: 1;\n    height: 0;\n    overflow: hidden;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div:first-child { height: 100% }\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container {\n    height: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container {\n    flex-grow: 1;\n    height: 0;\n    overflow-y: auto;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > .video-error {\n    text-align: center;\n    width: 100%;\n    border-bottom: 1px solid rgba(0,0,0,.2);\n    border-top: 1px solid rgba(0,0,0,.2);\n    background: #444;\n    margin: 0;\n    box-sizing: border-box;\n    position: absolute;\n    cursor: pointer;\n    overflow: hidden;\n    left: 0;\n    right: 0;\n    transition: height .3s ease-in-out, opacity .3s ease-in-out;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > .video-error > h2 {\n    padding: 1em;\n    margin: 0;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > .video-error:hover > h2 {\n    color: #d278c9;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > aside#video-tabs > .tablinks{\n    font-size: .9em;\n    border-top: 1px solid #ddd;\n    border-right: 1px solid #ddd;\n    opacity: .5;\n    transform: skew(20deg, 0deg);\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > aside#video-tabs > .tablinks > span{\n    display: inline-block;\n    padding: 0 .7em;\n    transform: skew(-20deg, 0deg);\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > aside#video-tabs > .tablinks.gjs-four-color{\n    border-top: 1px solid #ddd;\n    border-right: 1px solid #ddd;\n    opacity: 1;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: flex-start;\n    box-sizing: border-box;\n    padding: 1rem;\n    flex-grow: 1;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list,\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container{\n    width: 33.33%;\n    box-sizing:border-box;\n    padding: 1rem;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure{\n    margin: .5rem;\n    cursor: pointer;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure > figcaption{\n    text-align: center;\n    margin: .2em;\n    font-size: .9em;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure > img{\n    transition: transform .2s ease-in-out, box-shadow .2s ease-in-out;\n    font-size: 2vh;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container > figure:hover > img{\n    transform: translate(0, -1em) scale(1.1);\n    box-shadow: 0 2.2em 1.9em -1.8em rgb(145 145 145);\n    -webkit-box-shadow: 0 2.2em 1.9em -1.8em rgb(145 145 145);\n    -moz-box-shadow: 0 2.2em 1.9em -1.8em rgb(145 145 145);\n}\n\n@media screen and (max-width: 61.875em){\n    #video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container{\n        width: 50%;\n    }\n}\n\n@media screen and (max-width: 37.5em){\n    #video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > #video-container > ul#video-list li.video-container{\n        width: 100%;\n    }\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul > li {\n    padding: 0 .5em;\n}\n\n/* Pagination styling */\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul > li > a,\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul > li > a > svg {\n    pointer-events: none\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer{\n    width: 100%;\n    z-index: 5;\n    border-top: 1px solid rgba(0,0,0,.2);\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate{\n    width: 100%;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar]{\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 1em;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li{\n    list-style: none;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li:not(.dots){\n    cursor: pointer;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li > a > svg{\n    width: 1.4em;\n    fill: #ddd;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li > .disabled-link > svg{\n    fill: #505050;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li > .disabled-link{\n    color: #505050;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Page],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-hidden=true]\n{\n    margin: 0 .3rem;\n    border-radius: 50em;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Page] > a,\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-hidden=true] > a\n{\n    text-decoration: none;\n}\n\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=First],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Previous],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Next],\n#video-modal > .gjs-mdl-dialog > .gjs-mdl-content > div > #data-container > footer#video-paginate-footer > nav#video-paginate > ul[role=menubar] li[aria-label^=Last]\n{\n    padding: 0 .2rem;\n}\n`;\n","export default {\n    memberIdx: 0,\n    displayLoadElement: null,\n    displayLayoutElement: null,\n\n    // Default endpoints\n    // eg. [ 'youtube', 'vimeo', 'local' ]\n\n    resources : [],\n\n    // For demonstration purposes, but I suppose you could hardcode your videos here.\n    // These objects will contain an array that contains a list of information.\n    // Local data is very simple, see the example_api_return\n    // For Vimeo and Youtube, see the example data and refer to the \n    // API documentation for setup info\n    youtubeData: null,\n\n    vimeoData: null,\n\n    localData: null,\n  \n    // Content to show when modal is loading. If url is passed, it will be an image\n    preloader: null,\n  \n    // Amount to paginate with\n    per_page: 12,\n  \n    // Custom headers to pass with the upload request\n    youtubeHeaders: {},\n\n    vimeoHeaders: {},\n\n    localHeaders: {},\n  \n    // Custom parameters to pass with the upload request, eg. csrf token\n    youtubeParams: {},\n\n    vimeoParams: {},\n\n    localParams: {},\n\n    // The local url for video list thumbnail data\n    localLoadUrl: null,\n\n    // The youtube url for video list thumbnail data\n    youtubeLoadUrl: null,\n\n    // The vimeo url for video list thumbnail data\n    vimeoLoadUrl: null,\n\n    // If you prefer to use a callback on the frontend, then put it here\n    // This plugin will always default to the url, so that must be set to null\n    // This option is only for youtube since you can query public videos\n    // If you are doing anything with promises, remeber to pass this as an async function\n    // NEVER pass private data here. It is public and can be seen by everyone, even if only trusted users are using this\n    // @example\n    // youtubeLoadCallback: async (query, params) => { // query and params will be passed by the plugin by default, but are optional depending on your callback\n    //                          const {google} = require('googleapis');\n    //\n    //                          const youtube = google.youtube({\n    //                            version: 'v3',\n    //                            auth: your_public_auth_key,\n    //                          });\n    //\n    //                          let api_key = {EXAMPLE_KEY}\n    //                          let parts = self.options.youtube_playlist_parts.join(',');\n    //\n    //                          let query = {\n    //                            part: parts,\n    //                            id: channelID,\n    //                            playlistId : playlistID,\n    //                            maxResults: (req.query.per_page ? req.query.per_page : 20)\n    //                          }\n    //\n    //                          if(req.query.page_token) query['pageToken'] = req.query.page_token;\n    //\n    //                          vids = await youtube.playlistItems.list(query);\n    //\n    //                          if(vids && vids.data) return vids.data;\n    //\n    //                          // Please remember to error handle. The plugin will check if an error was passed\n    //                          return { status: '301', message: 'there was an error }\n    //                       }\n    youtubeLoadCallback: null,\n  \n    // If you have little control of your server, use this method to reformat \n    // your list data so it matches the expected format\n    // This plugin has been catered to youtube\n    // returns the response\n    // @example\n    // localBeforeLoad: (res) => return res.items.map( video => {...video, somProp : 'Necessary' }),\n    localBeforeLoad: null,\n\n    // returns the response\n    // @example\n    // youtubeBeforeLoad: (res) => return res.items.map( video => {...video, somProp : 'Necessary' }),\n    youtubeBeforeLoad: null,\n\n      // returns the response\n    // @example\n    // vimeoBeforeLoad: (res) => return res.items.map( video => {...video, somProp : 'Necessary' }),\n    vimeoBeforeLoad: null,\n\n    // If you have little control of your server, use this method to reformat \n    // your individual video data so it matches the expected format before it's inserted\n    // This plugin has been catered to youtube\n    // returns the response\n    // @example\n    // localBeforeInsert: (video) => video.type = \"local\", return video\n    localBeforeInsert: null,\n\n    // returns the response\n    // @example\n    // youtubeBeforeInsert: (video) => video.type = \"youtube\", return video\n    youtubeBeforeInsert: null,\n\n    // returns the response\n    // @example\n    // vimeoBeforeInsert: (video) => video.type = \"vimeo\", return video\n    vimeoBeforeInsert: null,\n  \n  };\n","import defaults from './video_media_manager/config/config';\nconst css =  require('./video_media_manager/css/styles.js');\n\n// export default grapesjs ? grapesjs.plugins.add('grapesjs-video-embed-manager', (editor, options) => {\nexport default (editor, options = {}) => {\n    // Add components\n    const domcv = editor.DomComponents.getType('video');\n    const dblclick = domcv.view.prototype.events.dblclick && domcv.view.prototype.events.dblclick !== 'onDblClick' ? domcv.view.prototype.events.dblclick : null;\n    const oldEvent = domcv.view.prototype.events.dblclick ? domcv.view.prototype[dblclick] : null;\n\n    // // This is a little broken, but click events should never have more than an event passed\n    domcv.view.prototype.events.dblclick = 'onDblClick';\n\n    domcv.view.prototype.onDblClick = function() {\n        // Video component normally doesn't have a double click event, so we should be safe\n        component = editor.getSelected() || {};\n        editor.runCommand('open-videos');\n\n        // Just in case, call original event if this was one in setup\n        if(oldEvent) domcv.view.prototype[dblclick](e);\n    };\n\n    // Globals\n    // Modal and current component\n    let Modal, component;\n\n    // Universal options\n    const opts = {...defaults, ...options};\n\n    // current page of query.\n    let current_page = 1;\n\n    // Html defaults\n    let preloader, error, dataContainer, container, aside, videoList, footer, pagination;\n\n    // pagination variables\n    let query, trail_amount, total_pages, total_videos;\n\n    let large_trail_amount = 10,\n        medium_trail_amount = 5,\n        small_trail_amount = 3;\n\n    // current selected resource and index of resource item\n    let current, currentIndex = 0;\n    \n    // icons\n    let first_page = { d: \"M13,21,7,12l6-9H9L3,12l6,9Z  M21,21l-6-9,6-9H17l-6,9,6,9Z\" };\n    let last_page = { d: \"M11,3l6,9-6,9h4l6-9L15,3Z  M3,3l6,9L3,21H7l6-9L7,3Z\" };\n    let next_page = { d: \"M 8 3 L 14 12 L 8 21 L 12 21 L 18 12 L 12 3 L 8 3 z\" };\n    let previous_page = { d: \"M 13 3 L 7 12 L 13 21 L 17 21 L 11 12 L 17 3 L 13 3 z\" };\n\n    // Error animation timeout\n    let timeout;\n\n    // TODO: create a better listener\n    editor.on('component:add', (model) => {\n        if(model.attributes.type == 'video'){\n            component = model;\n            editor.runCommand('open-videos');\n        }\n    })\n\n    editor.Commands.add('open-videos', {\n        run(editor, sender) {\n            // Add an event listener to make pagination readable on small screen sizes\n            window.addEventListener('resize', setPaginationBind );\n            return open();\n        },\n        stop(editor, sender) {\n            // Remove event listender\n            window.removeEventListener('resize', setPaginationBind );\n            dataContainer.remove();\n        },\n    });\n\n    const loading = (loadElement, layoutElement, isLoading) => {\n        if (loadElement != null) {\n            if (isLoading) {\n                loadElement.style.display = \"block\";\n                layoutElement.style.display = \"none\";\n            } else {\n                loadElement.style.display = \"none\";\n                layoutElement.style.display = \"block\";\n            }\n        }\n    }\n\n    editor.Commands.add('insert-video', {\n        run(editor, sender, options) {\n\n            if(options.current == 'youtube'){\n                component.set('provider', 'yt');\n                component.set('videoId', options.id);\n                return;\n            }\n\n            if(options.current == 'vimeo'){\n                component.set('provider', 'vi');\n                component.set('videoId', options.id);\n                return;\n            }\n\n            if(options.current == 'local'){\n                component.set('provider', 'so');\n                component.set('src', options.video.source);\n                component.set('poster', options.video.poster);\n                return;\n            }\n        },\n        // stop(editor, sender) {\n            // console.log('insert-video stopped');\n            // console.log(editor, sender)\n        // },\n    });\n\n    const _init = () => {\n        Modal = editor.Modal;\n    }\n\n    const open = async () => {\n        if(!Modal) _init();\n\n        await Modal.open({\n            title: '비디오(Vimeo) 업로드',\n            content: '',\n            attributes: {\n                id: 'video-modal'\n            }\n        })\n        .onceOpen( renderHtml() )\n        .onceClose( () => editor.stopCommand('open-videos'));\n\n    }\n\n    /**\n     * This is our master list of functions that run.\n     * When a modal first opens, or when a page changes, these functions are run\n     */\n    const setData = () =>{\n        setVideos();\n        setPagination();\n        Modal.setContent(dataContainer);\n    }\n\n    // This should ideally be called once per page load\n    const getInitialHtmlElements = () => {\n\n        (opts.preloader ?  (preloader = document.createElement('img'), preloader.src = opts.preloader, preloader.setAttribute('alt', 'Loading...')) : (preloader = document.createElement('h2'), preloader.innerHTML = 'Loading...'), preloader.id=\"preloader\")\n\n//     Div\n//     float: right;\n\n//     Button\n//     position: relative;\n//     border: none;\n//     display: inline-block;\n//     padding: 15px 30px;\n//     border-radius: 15px;\n//     background-color: rgba(255,255,255,.2); :hover\n\n\n\n\n        dataContainer = document.createElement('div');\n        dataContainer.id = 'data-container';\n\n        error = document.createElement('div');\n        error.appendChild(document.createElement('h2'));\n        error.className = 'video-error';\n        error.onclick = hideError;\n        error.style.display = 'none';\n        error.style.height = '0px';\n\n        let style = document.createElement('style');\n        style.innerHTML = css;\n        dataContainer.appendChild(style);\n\n        aside = document.createElement('aside');\n        aside.id = 'video-tabs';\n        dataContainer.appendChild(aside);\n\n        let uploadContainer = document.createElement('div');\n        uploadContainer.id = 'upload-container';\n        uploadContainer.style.alignSelf = 'end';\n\n        let fileContainer = document.createElement('div');\n        fileContainer.className = 'filebox';\n\n        let uploadLabel = document.createElement('label');\n        uploadLabel.setAttribute('for', 'ex_file');\n        uploadLabel.innerHTML = '업로드';\n\n        let uploadInput = document.createElement('input');\n        uploadInput.id = 'ex_file';\n        uploadInput.type = 'file';\n        uploadInput.accept = 'video/mp4,video/mkv, video/x-m4v,video/*';\n        uploadInput.onchange = function(e) {\n            if (this.value !== '') {\n                const body = new FormData();\n                const file = e.target.files[0];\n                body.append(\"file\", file);\n\n                let loadElement = options.displayLoadElement;\n                let layoutElement = options.displayLayoutElement;\n\n                loading(loadElement, layoutElement, true);\n\n                fetch(\"/today/vimeo/upload/\" + options.memberIdx,\n                {method: 'POST', body: body})\n                    .then( async res => {\n\n                        loading(loadElement, layoutElement, false);\n                        if (res.ok) {\n                            alert(\"업로드를 완료되었습니다.\");\n                            e.target.value = '';\n                            current_page = 1;\n                            query = buildQuery();\n                            getVideos();\n                        } else {\n                            alert(\"업로드를 실패했습니다.\");\n                            e.target.value = '';\n                        }\n\n                    })\n                    .catch( err => {\n                        loading(loadElement, layoutElement, false);\n                        return errorHandling(500, \"/today/vimeo/upload\", err)\n                    })\n            }\n        }\n\n        fileContainer.appendChild(uploadLabel);\n        fileContainer.appendChild(uploadInput);\n        uploadContainer.appendChild(fileContainer);\n\n        dataContainer.appendChild(uploadContainer);\n\n        container = document.createElement('div');\n        container.id = 'video-container';\n\n        videoList = document.createElement('ul');\n        videoList.id = 'video-list'\n\n        footer = document.createElement('footer');\n        footer.id = 'video-paginate-footer';\n\n        pagination = document.createElement('nav');\n        pagination.id = 'video-paginate';\n        footer.appendChild(pagination);\n\n        container.appendChild(error), container.appendChild(preloader), container.appendChild(videoList);\n        dataContainer.appendChild(container), dataContainer.appendChild(footer);\n\n        Modal.setContent(dataContainer);\n    }\n\n    const renderHtml = () => {\n        getInitialHtmlElements();\n\n        // If no resources were provided, we can't make any calls\n        if(!opts.resources || !opts.resources.length){\n            return errorHandling(412, opts.resources, 'You did not provide any video resources when initiating the plugin. Please pass the parameters \"youtube\", \"vimeo\", and/or \"local\" to the plugin option \"resources\" to get started.');\n        }\n\n        // If there's more than one resource, create tabs to cycle through\n        if(opts.resources.length > 1){\n            createTypeTabs(opts.resources);\n        }else{\n            aside.remove();\n        }\n\n        // Now set \n        setType();\n    }\n\n    const createTypeTabs = (sources) => {\n        for(let i = 0; i < sources.length; i++){\n            let button = document.createElement('button');\n            let span = document.createElement('span');\n            button.className = 'tablinks gjs-pn-btn gjs-two-color', button.setAttribute('data-index', i);\n            if(i == currentIndex) button.classList.add('gjs-four-color');\n            span.innerHTML = sources[i][0].toUpperCase() + sources[i].substring(1);\n            button.onclick = setType;\n            button.appendChild(span);\n\n            aside.appendChild(button);\n        }\n    }\n\n    const setType = (e = {}) =>{\n        // This is only called if a user clicks the type tab\n        // Otherwise this function is called once\n        if(e.currentTarget || e.target){\n            let button = e.currentTarget || e.target; // browser failsafe\n            button.classList.add('gjs-four-color');\n            document.querySelector(`button.tablinks[data-index=\"${currentIndex}\"]`).classList.remove('gjs-four-color')\n            currentIndex = button.dataset.index;\n        }\n\n        current = opts.resources[currentIndex];\n        if(!current) return errorHandling(204, current, 'You seem to be requesting a video resource that doesn\\'t exit!');\n        \n        // Check if the manager already has data to be loaded\n        // Also used for example purposes\n        if(opts[`${current}Data`]){\n            showVideos();\n            // Reminder, youtube page data has to be manually set\n            current_page = opts[`${current}Data`].page;\n            return setData();\n        }\n\n        return getVideos();\n    }\n\n    const uploadVideo = async () => {\n        alert(\"Video upload\");\n        return null;\n    }\n\n    const getVideos = async () => {\n        query = buildQuery();\n\n        let loadUrl = opts[`${current}LoadUrl`];\n        let callback = opts[`${current}LoadCallback`];\n        showPreloader();\n\n        let params = opts[`${current}Params`] ? opts[`${current}Params`] : {};\n        params['headers'] = ( opts[`${current}Headers`] ? opts[`${current}Headers`] : {} );\n\n        return loadUrl ? \n            fetch( loadUrl + query, params )\n            .then( async res => {\n                let data = await res.json();\n\n                if(res.ok){\n                    if(current == 'youtube') data.page = current_page;\n                    if(opts[`${current}BeforeLoad`]) data = opts[`${current}BeforeLoad`](data);\n                    opts[`${current}Data`] = data;\n                    showVideos();\n                    return setData();\n                }\n\n                try{\n                    return errorHandling(res.status, loadUrl + query, data.response.data.error.message)\n                }catch(error){\n                    throw new Error(res.statusText)\n                }\n            })\n            .catch( err => {\n                return errorHandling(500, loadUrl + query, err)\n            })\n            : callback ?  handleCallback(callback, query, params)\n            : errorHandling(412, loadUrl + query +'; '+ callback, 'There was no callback or load url provided for the ' + current + ' resource.')\n    }\n\n    const handleCallback = async (callback, query, params) => {\n        let call = await callback(query, params);\n\n        if(typeof call !== \"object\") return errorHandling(406, callback, 'Callback return was invalid')\n        if(call.error) return errorHandling(error.status, callback, error.message)\n\n        opts[`${current}Data`] = call;\n        showVideos();\n        return setData();\n    }\n\n    const setVideos = () => {\n        let data = opts[`${current}Data`];\n        let videos = data.items || data.data || [];\n        videoList.innerHTML = '';\n\n        if(videos.length > 0){\n            for(let i = 0; i < videos.length; i++){\n                createVideoThumb(videos[i], i);\n            }\n        }else{\n            return errorHandling(411, data, 'There are no videos to display.')\n        }\n    }\n\n    const buildQuery = () => {\n        let q = '';\n\n        if(opts.per_page) q += (q.length ? '&' : '?') + 'per_page=' + opts.per_page\n\n        if(opts[`${current}Data`] && (opts[`${current}Data`].nextPageToken || opts[`${current}Data`].prevPageToken)){\n            q += (q.length ? '&' : '?') + 'page_token=' + (current_page > opts[`${current}Data`].page ? opts[`${current}Data`].nextPageToken : opts[`${current}Data`].prevPageToken)\n        }else if(opts[`${current}Data`] && opts[`${current}Data`].page){\n            q += (q.length ? '&' : '?') + 'page=' + current_page\n        }\n\n        return q;\n    }\n\n    const createVideoThumb = (v, index) => {\n        // Set video source\n        let video = v.snippet || v;\n        let id = getVideoId(v);\n        let thumbs = video.thumbnails || video.pictures.sizes || [];\n        let defaultThumb = thumbs.default || (thumbs.length ? thumbs.filter( thumb => thumb.width > 300 && thumb.width < 900)[0] : null) || thumbs[0];\n        if(!(id && video && thumbs && defaultThumb)) return errorHandling(400, video);\n        let url = (defaultThumb.url ? 'url' : 'link');\n        \n        let i = new Image(defaultThumb.width, defaultThumb.height),\n        img = document.createElement('img'),\n        figure = document.createElement(\"figure\"),\n        imgLi = document.createElement(\"li\");\n        imgLi.setAttribute('class', 'video-container video-empty video-' + index), imgLi.setAttribute('data-loading', 'Loading...'), imgLi.setAttribute('data-deleting', 'Deleting');\n\n        i.onload = function() {\n            img.setAttribute('src', defaultThumb[url]);\n            let srcset = {};\n            \n            // We are doing it this way to ensure the srcset is produced in the right order\n            for(let name in thumbs){\n                let width = thumbs[name].width;\n                srcset[width] = `${thumbs[name][url]} ${width}w`;\n            }\n            \n            srcset = Object.values(srcset).join(', ');\n            img.setAttribute('srcset', srcset);\n\n            // if (defaultThumb[url] && img.setAttribute(\"data-url\", defaultThumb[url]), video.tag)\n            // generate data setAttributeibutes\n            for (var r in video){ if(video.hasOwnProperty(r) && r !=='snippet') (typeof video[r] == \"object\" ? img.setAttribute('data-'+r, JSON.stringify(video[r])) : img.setAttribute('data-'+r, video[r])) };\n\n            img.onload = function() {\n                imgLi.classList.remove(\"video-empty\")\n            }\n\n            figure.appendChild(img);\n\n            let title = video.title || video.name;\n            if(title){\n                img.setAttribute(\"alt\", title);\n                let figcaption = document.createElement(\"figcaption\");\n                figcaption.innerText = title;\n                figure.appendChild(figcaption);\n            }\n\n        },\n        i.onerror = function() {\n            imgLi.remove(), errorHandling(404, video) \n        },\n        // load the image!\n        i.src = defaultThumb[url];\n        \n        // set properties to query vid\n        img.setAttribute(\"title\", \"Insert\");\n        img.setAttribute(\"data-index\", index);\n        img.setAttribute(\"data-id\", id);\n        img.setAttribute(\"aria-role\", 'button');\n        img.onclick = insertVideo;\n\n        figure.classList.add(\"insert-video\");\n\n        imgLi.appendChild(figure);\n        videoList.appendChild(imgLi);\n    }\n\n    const insertVideo = (e) => {\n        let index, id, data, videoObj, returnObj;\n        e.currentTarget ? (index = e.currentTarget.dataset.index, id = e.currentTarget.dataset.id) : e.target ? (index = e.target.dataset.index, id = e.target.dataset.id) : null;\n\n        data = opts[`${current}Data`];\n        videoObj = data.items ? data.items[index] : data.data[index];\n\n        returnObj = {\n            component: component,\n            current: current,\n            video : videoObj,\n            id: id\n        }\n\n        if(opts[`${current}BeforeInsert`]) returnObj = opts[`${current}BeforeInsert`](returnObj);\n        if(!(index && id)) return errorHandling(409, returnObj, 'The following video doesn\\'t seem to have an id. Cannot insert the video into body.');\n\n        editor.runCommand( 'insert-video', returnObj )\n        editor.stopCommand('insert-video')\n        Modal.close();\n    }\n\n    const setPagination = () => {\n        pagination.innerHTML = '';\n        let videosData = opts[`${current}Data`];\n        total_videos = videosData.pageInfo ? videosData.pageInfo.totalResults : videosData.total;\n\n        total_pages = Math.ceil( total_videos / opts.per_page );\n\n        // How much trailing should exist in pagination is dependent if pages can be queried without a token\n        // For sure youtube cannot trail pagination and can only be moved one page at a time\n        // Local pagination is not set up this way, and I don't recommend setting up your server this way.\n        setTrailAmount();\n\n        if(total_pages > 1){\n            let ul = document.createElement('ul');\n            ul.setAttribute('role', 'menubar');\n            let r = document.createElement('li');\n            r.setAttribute('aria-hidden', true), r.className = 'dots more-previous', r.innerHTML = '...';\n\n            // Create first page chevron\n            if(current != 'youtube') ul.appendChild(createPaginateIcon('First Page', 1, 'page-nums chevrons first-chevrons', 1, 'video-paginate-icons', first_page.d));\n            ul.appendChild(createPaginateIcon('Previous Page', (current_page - 1 <= 1 ? 1 : current_page -1 ), 'page-nums chevrons first-chevrons', (current_page - 1 <= 1 ? 1 : current_page -1 ), 'video-paginate-icons', previous_page.d));\n            ul.appendChild(r);\n\n            // This is not setup to load on anything past page 1. May fix in the future.\n            let elements = [];\n\n            // Pushing our current page...\n            elements.push(createPaginateIcon('Page ' + current_page, current_page, 'page-nums dynamic-pages', current_page));\n            \n            let i = trail_amount;\n            let j = 0;\n            let add_previous = 1;\n            let add_next = 1;\n            while(i > 0){\n                let prevPage = current_page - add_previous;\n                if( prevPage > 0){\n                    elements.splice(0, 0, createPaginateIcon('Page ' + prevPage, prevPage, 'page-nums dynamic-pages', prevPage));\n                    add_previous++;\n                    i--;\n                }\n\n                let nextPage = current_page + add_next;\n                if(nextPage <= total_pages){\n                    elements.push(createPaginateIcon('Page ' + nextPage, nextPage, 'page-nums dynamic-pages', nextPage));\n                    add_next++;\n                    i--;\n                }\n\n                // Failsafe break;\n                j++\n                if(j > trail_amount) break;\n            }\n\n            elements.map( el => ul.appendChild(el))\n\n            r = r.cloneNode(true);\n            r.className = 'dots more-next';\n            // Create last page chevron\n            ul.appendChild(r);\n            ul.appendChild(createPaginateIcon('Next Page', (current_page +1 >= total_pages ? total_pages : current_page + 1), 'page-nums chevrons last-chevrons', (current_page +1 >= total_pages ? total_pages : current_page + 1), 'video-paginate-icons', next_page.d));\n            if(current != 'youtube') ul.appendChild(createPaginateIcon('Last Page', total_pages, 'page-nums chevrons last-chevrons', total_pages, 'video-paginate-icons', last_page.d));\n\n            pagination.appendChild(ul);\n        }else{\n            pagination.innerHTML = \"<p style=\\\"text-align: center\\\">Showing All Results</p>\";\n        }\n\n        updatePaginationStyles();\n    }\n\n    // Ignore this. This is only here so the event listeners for resetting pagination on resize work\n    const setPaginationBind = setPagination.bind(this);\n\n    const createPaginateIcon = (ariaLabel, dataPage, liClasses, posinset, svgClasses = null, paths = null) =>{\n        let li = document.createElement('li');\n        li.onclick = updatePage;\n        li.setAttribute('aria-label', ariaLabel);\n        li.setAttribute('data-page', dataPage);\n        li.className = liClasses;\n        let a = document.createElement('a');\n        a.setAttribute('aria-posinset', posinset);\n\n        if(svgClasses){\n            let svg = document.createElement('svg');\n            svg.setAttribute('height', '100%');\n            svg.setAttribute('width', '1.3em');\n            svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n            svg.setAttribute('preserveaspectratio', 'xMidYMid meet');\n            svg.setAttribute('viewBox', '0 0 24 24');\n            svg.className = svgClasses;\n            let path = document.createElement('path');\n            path.setAttribute('d', paths)\n            svg.append(path);\n    \n            a.innerHTML = svg.outerHTML;\n        }else{\n            a.innerHTML = dataPage;\n        }\n\n        li.append(a);\n        return li;\n    }\n\n    const updatePaginationStyles = () => {\n        footer.querySelectorAll('.page-nums').forEach( el => el.classList.remove('disabled-link'));\n        footer.querySelectorAll('.dots').forEach( el => el.style.display = 'none');\n\n        // Update the styles\n        footer.querySelectorAll('.page-nums[aria-label=\"Page '+current_page+'\"] a').forEach( el => el.classList.add('disabled-link'));\n\n        if(current_page == 1) footer.querySelectorAll('.first-chevrons a').forEach( el => el.classList.add('disabled-link'));\n\n        if((current_page + (trail_amount/2)) < total_pages) footer.querySelectorAll('.dots.more-next').forEach( el => el.style.display = 'block');\n\n        if((current_page - (trail_amount/2)) > 1) footer.querySelectorAll('.dots.more-previous').forEach( el => el.style.display = 'block');\n\n        if(current_page == total_pages) footer.querySelectorAll('.last-chevrons a').forEach( el => el.classList.add('disabled-link'));\n    }\n\n    const updatePage = (e) => {\n        let page = parseInt(e.currentTarget.dataset.page);\n\n        if(current_page === page) return;\n\n        if(page){\n            current_page = page;\n            query = buildQuery();\n\n            getVideos();\n        }\n    }\n\n    const setTrailAmount = () => {\n        if(current == 'youtube'){\n            trail_amount = 0;\n        }else if(window.innerWidth > 1200){\n            trail_amount = large_trail_amount;\n        }else if(window.innerWidth > 600){\n            trail_amount = medium_trail_amount;\n        }else{\n            trail_amount = small_trail_amount;\n        }\n    }\n\n    const getVideoId = (video) =>{\n        // youtube\n        if(video.contentDetails) return video.contentDetails.videoId;\n\n        // local\n        if(video.id) return video.id;\n\n        // vimeo\n        if(video.uri) return (video.uri.split('/').pop())\n\n        // uh oh\n        return null;\n    }\n\n    const errorHandling = (error_code, item, message = null) => {\n        console.log(error_code, item, message);\n\n        if(message){\n            let h2 = error.querySelector('h2');\n            h2.innerHTML = '<span style=\"display=inline-block; vertical-align:top; font-size: .8rem;\">&#10006;</span> &nbsp;' + error_code + ' : ' + message;\n            h2.focus();\n            showError();\n        }\n    }\n\n    const showVideos = () => {\n        preloader.style.display = 'none';\n        videoList.style.display = null;\n    }\n\n    const showPreloader = () => {\n        preloader.style.display = 'block';\n        videoList.style.display = 'none';\n    }\n\n    const hideError = () => {\n        error.style.height = '0px';\n        error.style.opacity = 0;\n        timeout = setTimeout( () => {\n            error.style.display = 'none';\n        }, 2000)\n    }\n\n    const showError = () => {\n        clearTimeout(timeout);\n        error.style.display = 'block';\n        let h2 = error.querySelector('h2');\n\n        error.style.height = h2.offsetHeight + 'px';\n        error.style.opacity = 1;\n    }\n}\n// })\n"],"sourceRoot":""}